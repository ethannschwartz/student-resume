import e from"node:process";globalThis._importMeta_={url:import.meta.url,env:e.env};import t,{Server as s}from"node:http";import a from"node:https";import{EventEmitter as c}from"node:events";import{Buffer as l}from"node:buffer";import{promises as u,existsSync as d}from"node:fs";import{resolve as h,dirname as f,join as m}from"node:path";import{createHash as g}from"node:crypto";import{toValue as x}from"vue";import{createPathIndexLanguageParser as _,parseAcceptLanguage as R}from"@intlify/utils";import{createRouterMatcher as S}from"vue-router";import{fileURLToPath as k}from"node:url";import{getIcons as C}from"@iconify/utils";import{consola as j}from"consola";const E=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,$=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,T=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function jsonParseTransform(e,t){if(!("__proto__"===e||"constructor"===e&&t&&"object"==typeof t&&"prototype"in t))return t;!function(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}(e)}function destr(e,t={}){if("string"!=typeof e)return e;if('"'===e[0]&&'"'===e[e.length-1]&&-1===e.indexOf("\\"))return e.slice(1,-1);const s=e.trim();if(s.length<=9)switch(s.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!T.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(E.test(e)||$.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,jsonParseTransform)}return JSON.parse(e)}catch(s){if(t.strict)throw s;return e}}const O=/#/g,H=/&/g,L=/\//g,U=/=/g,I=/\+/g,P=/%5e/gi,N=/%60/gi,M=/%7c/gi,q=/%20/gi,B=/%2f/gi;function encodeQueryValue(e){return(t="string"==typeof e?e:JSON.stringify(e),encodeURI(""+t).replace(M,"|")).replace(I,"%2B").replace(q,"+").replace(O,"%23").replace(H,"%26").replace(N,"`").replace(P,"^").replace(L,"%2F");var t}function encodeQueryKey(e){return encodeQueryValue(e).replace(U,"%3D")}function decode$1(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function decodeQueryKey(e){return decode$1(e.replace(I," "))}function decodeQueryValue(e){return decode$1(e.replace(I," "))}function parseQuery(e=""){const t=Object.create(null);"?"===e[0]&&(e=e.slice(1));for(const s of e.split("&")){const e=s.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;const a=decodeQueryKey(e[1]);if("__proto__"===a||"constructor"===a)continue;const c=decodeQueryValue(e[2]||"");void 0===t[a]?t[a]=c:Array.isArray(t[a])?t[a].push(c):t[a]=[t[a],c]}return t}function stringifyQuery(e){return Object.keys(e).filter(t=>void 0!==e[t]).map(t=>{return s=t,"number"!=typeof(a=e[t])&&"boolean"!=typeof a||(a=String(a)),a?Array.isArray(a)?a.map(e=>`${encodeQueryKey(s)}=${encodeQueryValue(e)}`).join("&"):`${encodeQueryKey(s)}=${encodeQueryValue(a)}`:encodeQueryKey(s);var s,a}).filter(Boolean).join("&")}const F=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,D=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,K=/^([/\\]\s*){2,}[^/\\]/,W=/^[\s\0]*(blob|data|javascript|vbscript):$/i,Z=/\/$|\/\?|\/#/,Y=/^\.?\//;function hasProtocol(e,t={}){return"boolean"==typeof t&&(t={acceptRelative:t}),t.strict?F.test(e):D.test(e)||!!t.acceptRelative&&K.test(e)}function isScriptProtocol(e){return!!e&&W.test(e)}function hasTrailingSlash(e="",t){return t?Z.test(e):e.endsWith("/")}function withoutTrailingSlash(e="",t){if(!t)return(hasTrailingSlash(e)?e.slice(0,-1):e)||"/";if(!hasTrailingSlash(e,!0))return e||"/";let s=e,a="";const c=e.indexOf("#");-1!==c&&(s=e.slice(0,c),a=e.slice(c));const[l,...u]=s.split("?");return((l.endsWith("/")?l.slice(0,-1):l)||"/")+(u.length>0?`?${u.join("?")}`:"")+a}function withTrailingSlash(e="",t){if(!t)return e.endsWith("/")?e:e+"/";if(hasTrailingSlash(e,!0))return e||"/";let s=e,a="";const c=e.indexOf("#");if(-1!==c&&(s=e.slice(0,c),a=e.slice(c),!s))return a;const[l,...u]=s.split("?");return l+"/"+(u.length>0?`?${u.join("?")}`:"")+a}function withLeadingSlash(e=""){return function(e=""){return e.startsWith("/")}(e)?e:"/"+e}function withBase(e,t){if(isEmptyURL(t)||hasProtocol(e))return e;const s=withoutTrailingSlash(t);return e.startsWith(s)?e:joinURL(s,e)}function withoutBase(e,t){if(isEmptyURL(t))return e;const s=withoutTrailingSlash(t);if(!e.startsWith(s))return e;const a=e.slice(s.length);return"/"===a[0]?a:"/"+a}function withQuery(e,t){const s=parseURL(e),a={...parseQuery(s.search),...t};return s.search=stringifyQuery(a),function(e){const t=e.pathname||"",s=e.search?(e.search.startsWith("?")?"":"?")+e.search:"",a=e.hash||"",c=e.auth?e.auth+"@":"",l=e.host||"",u=e.protocol||e[Q]?(e.protocol||"")+"//":"";return u+c+l+t+s+a}(s)}function getQuery$1(e){return parseQuery(parseURL(e).search)}function isEmptyURL(e){return!e||"/"===e}function joinURL(e,...t){let s=e||"";for(const e of t.filter(e=>function(e){return e&&"/"!==e}(e)))if(s){const t=e.replace(Y,"");s=withTrailingSlash(s)+t}else s=e;return s}function joinRelativeURL(...e){const t=/\/(?!\/)/,s=e.filter(Boolean),a=[];let c=0;for(const e of s)if(e&&"/"!==e)for(const[s,l]of e.split(t).entries())if(l&&"."!==l)if(".."!==l)1===s&&a[a.length-1]?.endsWith(":/")?a[a.length-1]+="/"+l:(a.push(l),c++);else{if(1===a.length&&hasProtocol(a[0]))continue;a.pop(),c--}let l=a.join("/");return c>=0?s[0]?.startsWith("/")&&!l.startsWith("/")?l="/"+l:s[0]?.startsWith("./")&&!l.startsWith("./")&&(l="./"+l):l="../".repeat(-1*c)+l,s[s.length-1]?.endsWith("/")&&!l.endsWith("/")&&(l+="/"),l}function withHttps(e){return function(e,t){let s=e.match(D);s||(s=e.match(/^\/{2,}/));if(!s)return t+e;return t+e.slice(s[0].length)}(e,"https://")}const Q=Symbol.for("ufo:protocolRelative");function parseURL(e="",t){const s=e.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(s){const[,e,t=""]=s;return{protocol:e.toLowerCase(),pathname:t,href:e+t,auth:"",host:"",search:"",hash:""}}if(!hasProtocol(e,{acceptRelative:!0}))return t?parseURL(t+e):parsePath(e);const[,a="",c,l=""]=e.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,u="",d=""]=l.match(/([^#/?]*)(.*)?/)||[];"file:"===a&&(d=d.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:h,search:f,hash:m}=parsePath(d);return{protocol:a.toLowerCase(),auth:c?c.slice(0,Math.max(0,c.length-1)):"",host:u,pathname:h,search:f,hash:m,[Q]:!a}}function parsePath(e=""){const[t="",s="",a=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:s,hash:a}}function decode(e){return e.includes("%")?decodeURIComponent(e):e}function tryDecode(e,t){try{return t(e)}catch{return e}}const X=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function serialize$2(e,t,s){const a=s||{},c=a.encode||encodeURIComponent;if("function"!=typeof c)throw new TypeError("option encode is invalid");if(!X.test(e))throw new TypeError("argument name is invalid");const l=c(t);if(l&&!X.test(l))throw new TypeError("argument val is invalid");let u=e+"="+l;if(void 0!==a.maxAge&&null!==a.maxAge){const e=a.maxAge-0;if(Number.isNaN(e)||!Number.isFinite(e))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(e)}if(a.domain){if(!X.test(a.domain))throw new TypeError("option domain is invalid");u+="; Domain="+a.domain}if(a.path){if(!X.test(a.path))throw new TypeError("option path is invalid");u+="; Path="+a.path}if(a.expires){if(d=a.expires,!("[object Date]"===Object.prototype.toString.call(d)||d instanceof Date)||Number.isNaN(a.expires.valueOf()))throw new TypeError("option expires is invalid");u+="; Expires="+a.expires.toUTCString()}var d;if(a.httpOnly&&(u+="; HttpOnly"),a.secure&&(u+="; Secure"),a.priority){switch("string"==typeof a.priority?a.priority.toLowerCase():a.priority){case"low":u+="; Priority=Low";break;case"medium":u+="; Priority=Medium";break;case"high":u+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(a.sameSite){switch("string"==typeof a.sameSite?a.sameSite.toLowerCase():a.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a.partitioned&&(u+="; Partitioned"),u}function parseSetCookie(e,t){const s=(e||"").split(";").filter(e=>"string"==typeof e&&!!e.trim()),a=function(e){let t="",s="";const a=e.split("=");a.length>1?(t=a.shift(),s=a.join("=")):s=e;return{name:t,value:s}}(s.shift()||""),c=a.name;let l=a.value;try{l=!1===t?.decode?l:(t?.decode||decodeURIComponent)(l)}catch{}const u={name:c,value:l};for(const e of s){const t=e.split("="),s=(t.shift()||"").trimStart().toLowerCase(),a=t.join("=");switch(s){case"expires":u.expires=new Date(a);break;case"max-age":u.maxAge=Number.parseInt(a,10);break;case"secure":u.secure=!0;break;case"httponly":u.httpOnly=!0;break;case"samesite":u.sameSite=a;break;default:u[s]=a}}return u}const V=0,J=1,G=2;function createRouter$1(e={}){const t={options:e,rootNode:createRadixNode(),staticRoutesMap:{}},normalizeTrailingSlash=t=>e.strictTrailingSlash?t:t.replace(/\/$/,"")||"/";if(e.routes)for(const s in e.routes)insert(t,normalizeTrailingSlash(s),e.routes[s]);return{ctx:t,lookup:e=>function(e,t){const s=e.staticRoutesMap[t];if(s)return s.data;const a=t.split("/"),c={};let l=!1,u=null,d=e.rootNode,h=null;for(let e=0;e<a.length;e++){const t=a[e];null!==d.wildcardChildNode&&(u=d.wildcardChildNode,h=a.slice(e).join("/"));const s=d.children.get(t);if(void 0===s){if(d&&d.placeholderChildren.length>1){const t=a.length-e;d=d.placeholderChildren.find(e=>e.maxDepth===t)||null}else d=d.placeholderChildren[0]||null;if(!d)break;d.paramName&&(c[d.paramName]=t),l=!0}else d=s}null!==d&&null!==d.data||null===u||(d=u,c[d.paramName||"_"]=h,l=!0);if(!d)return null;if(l)return{...d.data,params:l?c:void 0};return d.data}(t,normalizeTrailingSlash(e)),insert:(e,s)=>insert(t,normalizeTrailingSlash(e),s),remove:e=>function(e,t){let s=!1;const a=t.split("/");let c=e.rootNode;for(const e of a)if(c=c.children.get(e),!c)return s;if(c.data){const e=a.at(-1)||"";c.data=null,0===Object.keys(c.children).length&&c.parent&&(c.parent.children.delete(e),c.parent.wildcardChildNode=null,c.parent.placeholderChildren=[]),s=!0}return s}(t,normalizeTrailingSlash(e))}}function insert(e,t,s){let a=!0;const c=t.split("/");let l=e.rootNode,u=0;const d=[l];for(const e of c){let t;if(t=l.children.get(e))l=t;else{const s=getNodeType(e);t=createRadixNode({type:s,parent:l}),l.children.set(e,t),s===G?(t.paramName="*"===e?"_"+u++:e.slice(1),l.placeholderChildren.push(t),a=!1):s===J&&(l.wildcardChildNode=t,t.paramName=e.slice(3)||"_",a=!1),d.push(t),l=t}}for(const[e,t]of d.entries())t.maxDepth=Math.max(d.length-e,t.maxDepth||0);return l.data=s,!0===a&&(e.staticRoutesMap[t]=l),l}function createRadixNode(e={}){return{type:e.type||V,maxDepth:0,parent:e.parent||null,children:new Map,data:e.data||null,paramName:e.paramName||null,wildcardChildNode:null,placeholderChildren:[]}}function getNodeType(e){return e.startsWith("**")?J:":"===e[0]||"*"===e?G:V}function toRouteMatcher(e){return function(e,t){return{ctx:{table:e},matchAll:s=>_matchRoutes(s,e,t)}}(_routerNodeToTable("",e.ctx.rootNode),e.ctx.options.strictTrailingSlash)}function _matchRoutes(e,t,s){!0!==s&&e.endsWith("/")&&(e=e.slice(0,-1)||"/");const a=[];for(const[s,c]of _sortRoutesMap(t.wildcard))(e===s||e.startsWith(s+"/"))&&a.push(c);for(const[s,c]of _sortRoutesMap(t.dynamic))if(e.startsWith(s+"/")){const t="/"+e.slice(s.length).split("/").splice(2).join("/");a.push(..._matchRoutes(t,c))}const c=t.static.get(e);return c&&a.push(c),a.filter(Boolean)}function _sortRoutesMap(e){return[...e.entries()].sort((e,t)=>e[0].length-t[0].length)}function _routerNodeToTable(e,t){const s={static:new Map,wildcard:new Map,dynamic:new Map};return function _addNode(e,t){if(e)if(t.type!==V||e.includes("*")||e.includes(":")){if(t.type===J)s.wildcard.set(e.replace("/**",""),t.data);else if(t.type===G){const a=_routerNodeToTable("",t);return t.data&&a.static.set("/",t.data),void s.dynamic.set(e.replace(/\/\*|\/:\w+/,""),a)}}else t.data&&s.static.set(e,t.data);for(const[s,a]of t.children.entries())_addNode(`${e}/${s}`.replace("//","/"),a)}(e,t),s}function isPlainObject(e){if(null===e||"object"!=typeof e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&(!(Symbol.iterator in e)&&(!(Symbol.toStringTag in e)||"[object Module]"===Object.prototype.toString.call(e)))}function _defu(e,t,s=".",a){if(!isPlainObject(t))return _defu(e,{},s,a);const c=Object.assign({},t);for(const t in e){if("__proto__"===t||"constructor"===t)continue;const l=e[t];null!=l&&(a&&a(c,t,l,s)||(Array.isArray(l)&&Array.isArray(c[t])?c[t]=[...l,...c[t]]:isPlainObject(l)&&isPlainObject(c[t])?c[t]=_defu(l,c[t],(s?`${s}.`:"")+t.toString(),a):c[t]=l))}return c}function createDefu(e){return(...t)=>t.reduce((t,s)=>_defu(t,s,"",e),{})}const ee=createDefu(),te=createDefu((e,t,s)=>{if(void 0!==e[t]&&"function"==typeof s)return e[t]=s(e[t]),!0});function o(e){throw new Error(`${e} is not implemented yet!`)}let ne=class i extends c{__unenv__={};readableEncoding=null;readableEnded=!0;readableFlowing=!1;readableHighWaterMark=0;readableLength=0;readableObjectMode=!1;readableAborted=!1;readableDidRead=!1;closed=!1;errored=null;readable=!1;destroyed=!1;static from(e,t){return new i(t)}constructor(e){super()}_read(e){}read(e){}setEncoding(e){return this}pause(){return this}resume(){return this}isPaused(){return!0}unpipe(e){return this}unshift(e,t){}wrap(e){return this}push(e,t){return!1}_destroy(e,t){this.removeAllListeners()}destroy(e){return this.destroyed=!0,this._destroy(e),this}pipe(e,t){return{}}compose(e,t){throw new Error("Method not implemented.")}[Symbol.asyncDispose](){return this.destroy(),Promise.resolve()}async*[Symbol.asyncIterator](){throw o("Readable.asyncIterator")}iterator(e){throw o("Readable.iterator")}map(e,t){throw o("Readable.map")}filter(e,t){throw o("Readable.filter")}forEach(e,t){throw o("Readable.forEach")}reduce(e,t,s){throw o("Readable.reduce")}find(e,t){throw o("Readable.find")}findIndex(e,t){throw o("Readable.findIndex")}some(e,t){throw o("Readable.some")}toArray(e){throw o("Readable.toArray")}every(e,t){throw o("Readable.every")}flatMap(e,t){throw o("Readable.flatMap")}drop(e,t){throw o("Readable.drop")}take(e,t){throw o("Readable.take")}asIndexedPairs(e){throw o("Readable.asIndexedPairs")}},re=class extends c{__unenv__={};writable=!0;writableEnded=!1;writableFinished=!1;writableHighWaterMark=0;writableLength=0;writableObjectMode=!1;writableCorked=0;closed=!1;errored=null;writableNeedDrain=!1;writableAborted=!1;destroyed=!1;_data;_encoding="utf8";constructor(e){super()}pipe(e,t){return{}}_write(e,t,s){if(this.writableEnded)s&&s();else{if(void 0===this._data)this._data=e;else{const s="string"==typeof this._data?l.from(this._data,this._encoding||t||"utf8"):this._data,a="string"==typeof e?l.from(e,t||this._encoding||"utf8"):e;this._data=l.concat([s,a])}this._encoding=t,s&&s()}}_writev(e,t){}_destroy(e,t){}_final(e){}write(e,t,s){const a="string"==typeof t?this._encoding:"utf8",c="function"==typeof t?t:"function"==typeof s?s:void 0;return this._write(e,a,c),!0}setDefaultEncoding(e){return this}end(e,t,s){const a="function"==typeof e?e:"function"==typeof t?t:"function"==typeof s?s:void 0;if(this.writableEnded)return a&&a(),this;const c=e===a?void 0:e;if(c){const e=t===a?void 0:t;this.write(c,e,a)}return this.writableEnded=!0,this.writableFinished=!0,this.emit("close"),this.emit("finish"),this}cork(){}uncork(){}destroy(e){return this.destroyed=!0,delete this._data,this.removeAllListeners(),this}compose(e,t){throw new Error("Method not implemented.")}[Symbol.asyncDispose](){return Promise.resolve()}};const oe=class{allowHalfOpen=!0;_destroy;constructor(e=new ne,t=new re){Object.assign(this,e),Object.assign(this,t),this._destroy=function(...e){return function(...t){for(const s of e)s(...t)}}(e._destroy,t._destroy)}};const se=(Object.assign(oe.prototype,ne.prototype),Object.assign(oe.prototype,re.prototype),oe);class A extends se{__unenv__={};bufferSize=0;bytesRead=0;bytesWritten=0;connecting=!1;destroyed=!1;pending=!1;localAddress="";localPort=0;remoteAddress="";remoteFamily="";remotePort=0;autoSelectFamilyAttemptedAddresses=[];readyState="readOnly";constructor(e){super()}write(e,t,s){return!1}connect(e,t,s){return this}end(e,t,s){return this}setEncoding(e){return this}pause(){return this}resume(){return this}setTimeout(e,t){return this}setNoDelay(e){return this}setKeepAlive(e,t){return this}address(){return{}}unref(){return this}ref(){return this}destroySoon(){this.destroy()}resetAndDestroy(){const e=new Error("ERR_SOCKET_CLOSED");return e.code="ERR_SOCKET_CLOSED",this.destroy(e),this}}class y extends ne{aborted=!1;httpVersion="1.1";httpVersionMajor=1;httpVersionMinor=1;complete=!0;connection;socket;headers={};trailers={};method="GET";url="/";statusCode=200;statusMessage="";closed=!1;errored=null;readable=!1;constructor(e){super(),this.socket=this.connection=e||new A}get rawHeaders(){const e=this.headers,t=[];for(const s in e)if(Array.isArray(e[s]))for(const a of e[s])t.push(s,a);else t.push(s,e[s]);return t}get rawTrailers(){return[]}setTimeout(e,t){return this}get headersDistinct(){return p(this.headers)}get trailersDistinct(){return p(this.trailers)}}function p(e){const t={};for(const[s,a]of Object.entries(e))s&&(t[s]=(Array.isArray(a)?a:[a]).filter(Boolean));return t}class w extends re{statusCode=200;statusMessage="";upgrading=!1;chunkedEncoding=!1;shouldKeepAlive=!1;useChunkedEncodingByDefault=!1;sendDate=!1;finished=!1;headersSent=!1;strictContentLength=!1;connection=null;socket=null;req;_headers={};constructor(e){super(),this.req=e}assignSocket(e){e._httpMessage=this,this.socket=e,this.connection=e,this.emit("socket",e),this._flush()}_flush(){this.flushHeaders()}detachSocket(e){}writeContinue(e){}writeHead(e,t,s){e&&(this.statusCode=e),"string"==typeof t&&(this.statusMessage=t,t=void 0);const a=s||t;if(a&&!Array.isArray(a))for(const e in a)this.setHeader(e,a[e]);return this.headersSent=!0,this}writeProcessing(){}setTimeout(e,t){return this}appendHeader(e,t){e=e.toLowerCase();const s=this._headers[e],a=[...Array.isArray(s)?s:[s],...Array.isArray(t)?t:[t]].filter(Boolean);return this._headers[e]=a.length>1?a:a[0],this}setHeader(e,t){return this._headers[e.toLowerCase()]=t,this}setHeaders(e){for(const[t,s]of Object.entries(e))this.setHeader(t,s);return this}getHeader(e){return this._headers[e.toLowerCase()]}getHeaders(){return this._headers}getHeaderNames(){return Object.keys(this._headers)}hasHeader(e){return e.toLowerCase()in this._headers}removeHeader(e){delete this._headers[e.toLowerCase()]}addTrailers(e){}flushHeaders(){}writeEarlyHints(e,t){"function"==typeof t&&t()}}const ae=(()=>{const n=function(){};return n.prototype=Object.create(null),n})();function v(e={}){if(e instanceof Headers)return e;const t=new Headers;for(const[s,a]of Object.entries(e))if(void 0!==a){if(Array.isArray(a)){for(const e of a)t.append(s,String(e));continue}t.set(s,String(a))}return t}const ie=new Set([101,204,205,304]);async function b(e,t){const s=new y,a=new w(s);let c;if(s.url=t.url?.toString()||"/",!s.url.startsWith("/")){const e=new URL(s.url);c=e.host,s.url=e.pathname+e.search+e.hash}s.method=t.method||"GET",s.headers=function(e={}){const t=new ae,s=Array.isArray(e)||function(e){return"function"==typeof e?.entries}(e)?e:Object.entries(e);for(const[e,a]of s)if(a){if(void 0===t[e]){t[e]=a;continue}t[e]=[...Array.isArray(t[e])?t[e]:[t[e]],...Array.isArray(a)?a:[a]]}return t}(t.headers||{}),s.headers.host||(s.headers.host=t.host||c||"localhost"),s.connection.encrypted=s.connection.encrypted||"https"===t.protocol,s.body=t.body||null,s.__unenv__=t.context,await e(s,a);let l=a._data;(ie.has(a.statusCode)||"HEAD"===s.method.toUpperCase())&&(l=null,delete a._headers["content-length"]);const u={status:a.statusCode,statusText:a.statusMessage,headers:a._headers,body:l};return s.destroy(),a.destroy(),u}function hasProp(e,t){try{return t in e}catch{return!1}}class H3Error extends Error{static __h3_error__=!0;statusCode=500;fatal=!1;unhandled=!1;statusMessage;data;cause;constructor(e,t={}){super(e,t),t.cause&&!this.cause&&(this.cause=t.cause)}toJSON(){const e={message:this.message,statusCode:sanitizeStatusCode(this.statusCode,500)};return this.statusMessage&&(e.statusMessage=sanitizeStatusMessage(this.statusMessage)),void 0!==this.data&&(e.data=this.data),e}}function createError$1(e){if("string"==typeof e)return new H3Error(e);if(isError(e))return e;const t=new H3Error(e.message??e.statusMessage??"",{cause:e.cause||e});if(hasProp(e,"stack"))try{Object.defineProperty(t,"stack",{get:()=>e.stack})}catch{try{t.stack=e.stack}catch{}}if(e.data&&(t.data=e.data),e.statusCode?t.statusCode=sanitizeStatusCode(e.statusCode,t.statusCode):e.status&&(t.statusCode=sanitizeStatusCode(e.status,t.statusCode)),e.statusMessage?t.statusMessage=e.statusMessage:e.statusText&&(t.statusMessage=e.statusText),t.statusMessage){const e=t.statusMessage;sanitizeStatusMessage(t.statusMessage)!==e&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return void 0!==e.fatal&&(t.fatal=e.fatal),void 0!==e.unhandled&&(t.unhandled=e.unhandled),t}function isError(e){return!0===e?.constructor?.__h3_error__}function getQuery(e){return getQuery$1(e.path||"")}function getRouterParam(e,t,s={}){const a=function(e,t={}){let s=e.context.params||{};if(t.decode){s={...s};for(const e in s)s[e]=decode$1(s[e])}return s}(e,s);return a[t]}function getRequestHeaders(e){const t={};for(const s in e.node.req.headers){const a=e.node.req.headers[s];t[s]=Array.isArray(a)?a.filter(Boolean).join(", "):a}return t}function getRequestHeader(e,t){return getRequestHeaders(e)[t.toLowerCase()]}const ce=getRequestHeader;function getRequestHost(e,t={}){if(t.xForwardedHost){const t=e.node.req.headers["x-forwarded-host"],s=(t||"").split(",").shift()?.trim();if(s)return s}return e.node.req.headers.host||"localhost"}function getRequestProtocol(e,t={}){return!1!==t.xForwardedProto&&"https"===e.node.req.headers["x-forwarded-proto"]||e.node.req.connection?.encrypted?"https":"http"}function getRequestURL(e,t={}){const s=getRequestHost(e,t),a=getRequestProtocol(e,t),c=(e.node.req.originalUrl||e.path).replace(/^[/\\]+/g,"/");return new URL(c,`${a}://${s}`)}const le=Symbol.for("h3RawBody"),ue=["PATCH","POST","PUT","DELETE"];function readRawBody(e,t="utf8"){!function(e,t){if(!function(e,t){if("string"==typeof t){if(e.method===t)return!0}else if(t.includes(e.method))return!0;return!1}(e,t))throw createError$1({statusCode:405,statusMessage:"HTTP method is not allowed."})}(e,ue);const s=e._requestBody||e.web?.request?.body||e.node.req[le]||e.node.req.rawBody||e.node.req.body;if(s){const e=Promise.resolve(s).then(e=>Buffer.isBuffer(e)?e:"function"==typeof e.pipeTo?new Promise((t,s)=>{const a=[];e.pipeTo(new WritableStream({write(e){a.push(e)},close(){t(Buffer.concat(a))},abort(e){s(e)}})).catch(s)}):"function"==typeof e.pipe?new Promise((t,s)=>{const a=[];e.on("data",e=>{a.push(e)}).on("end",()=>{t(Buffer.concat(a))}).on("error",s)}):e.constructor===Object?Buffer.from(JSON.stringify(e)):e instanceof URLSearchParams?Buffer.from(e.toString()):e instanceof FormData?new Response(e).bytes().then(e=>Buffer.from(e)):Buffer.from(e));return t?e.then(e=>e.toString(t)):e}if(!Number.parseInt(e.node.req.headers["content-length"]||"")&&!String(e.node.req.headers["transfer-encoding"]??"").split(",").map(e=>e.trim()).filter(Boolean).includes("chunked"))return Promise.resolve(void 0);const a=e.node.req[le]=new Promise((t,s)=>{const a=[];e.node.req.on("error",e=>{s(e)}).on("data",e=>{a.push(e)}).on("end",()=>{t(Buffer.concat(a))})});return t?a.then(e=>e.toString(t)):a}function handleCacheHeaders(e,t){const s=["public",...t.cacheControls||[]];let a=!1;if(void 0!==t.maxAge&&s.push("max-age="+ +t.maxAge,"s-maxage="+ +t.maxAge),t.modifiedTime){const s=new Date(t.modifiedTime),c=e.node.req.headers["if-modified-since"];e.node.res.setHeader("last-modified",s.toUTCString()),c&&new Date(c)>=s&&(a=!0)}if(t.etag){e.node.res.setHeader("etag",t.etag);e.node.req.headers["if-none-match"]===t.etag&&(a=!0)}return e.node.res.setHeader("cache-control",s.join(", ")),!!a&&(e.node.res.statusCode=304,e.handled||e.node.res.end(),!0)}const de={html:"text/html",json:"application/json"},pe=/[^\u0009\u0020-\u007E]/g;function sanitizeStatusMessage(e=""){return e.replace(pe,"")}function sanitizeStatusCode(e,t=200){return e?("string"==typeof e&&(e=Number.parseInt(e,10)),e<100||e>999?t:e):t}function getDistinctCookieKey(e,t){return[e,t.domain||"",t.path||"/"].join(";")}function parseCookies(e){return function(e){if("string"!=typeof e)throw new TypeError("argument str must be a string");const t={},s={},a=s.decode||decode;let c=0;for(;c<e.length;){const l=e.indexOf("=",c);if(-1===l)break;let u=e.indexOf(";",c);if(-1===u)u=e.length;else if(u<l){c=e.lastIndexOf(";",l-1)+1;continue}const d=e.slice(c,l).trim();if(!s?.filter||s?.filter(d)){if(void 0===t[d]){let s=e.slice(l+1,u).trim();34===s.codePointAt(0)&&(s=s.slice(1,-1)),t[d]=tryDecode(s,a)}c=u+1}else c=u+1}return t}(e.node.req.headers.cookie||"")}function getCookie(e,t){return parseCookies(e)[t]}function setCookie(e,t,s,a={}){a.path||(a={path:"/",...a});const c=serialize$2(t,s,a),l=splitCookiesString(e.node.res.getHeader("set-cookie"));if(0===l.length)return void e.node.res.setHeader("set-cookie",c);const u=getDistinctCookieKey(t,a);e.node.res.removeHeader("set-cookie");for(const t of l){const s=parseSetCookie(t);getDistinctCookieKey(s.name,s)!==u&&e.node.res.appendHeader("set-cookie",t)}e.node.res.appendHeader("set-cookie",c)}function deleteCookie(e,t,s){setCookie(e,t,"",{...s,maxAge:0})}function splitCookiesString(e){if(Array.isArray(e))return e.flatMap(e=>splitCookiesString(e));if("string"!=typeof e)return[];const t=[];let s,a,c,l,u,d=0;const skipWhitespace=()=>{for(;d<e.length&&/\s/.test(e.charAt(d));)d+=1;return d<e.length},notSpecialChar=()=>(a=e.charAt(d),"="!==a&&";"!==a&&","!==a);for(;d<e.length;){for(s=d,u=!1;skipWhitespace();)if(a=e.charAt(d),","===a){for(c=d,d+=1,skipWhitespace(),l=d;d<e.length&&notSpecialChar();)d+=1;d<e.length&&"="===e.charAt(d)?(u=!0,d=l,t.push(e.slice(s,c)),s=d):d=c+1}else d+=1;(!u||d>=e.length)&&t.push(e.slice(s))}return t}const he="undefined"==typeof setImmediate?e=>e():setImmediate;function send(e,t,s){return s&&function(e,t){t&&304!==e.node.res.statusCode&&!e.node.res.getHeader("content-type")&&e.node.res.setHeader("content-type",t)}(e,s),new Promise(s=>{he(()=>{e.handled||e.node.res.end(t),s()})})}function setResponseStatus(e,t,s){t&&(e.node.res.statusCode=sanitizeStatusCode(t,e.node.res.statusCode)),s&&(e.node.res.statusMessage=sanitizeStatusMessage(s))}function getResponseStatus(e){return e.node.res.statusCode}function getResponseStatusText(e){return e.node.res.statusMessage}function sendRedirect(e,t,s=302){e.node.res.statusCode=sanitizeStatusCode(s,e.node.res.statusCode),e.node.res.setHeader("location",t);return send(e,`<!DOCTYPE html><html><head><meta http-equiv="refresh" content="0; url=${t.replace(/"/g,"%22")}"></head></html>`,de.html)}function getResponseHeader(e,t){return e.node.res.getHeader(t)}function setResponseHeaders(e,t){for(const[s,a]of Object.entries(t))e.node.res.setHeader(s,a)}const fe=setResponseHeaders;function setResponseHeader(e,t,s){e.node.res.setHeader(t,s)}const me=setResponseHeader;function appendResponseHeader(e,t,s){let a=e.node.res.getHeader(t);a?(Array.isArray(a)||(a=[a.toString()]),e.node.res.setHeader(t,[...a,s])):e.node.res.setHeader(t,s)}function sendStream(e,t){if(!t||"object"!=typeof t)throw new Error("[h3] Invalid stream provided.");if(e.node.res._data=t,!e.node.res.socket)return e._handled=!0,Promise.resolve();if(hasProp(t,"pipeTo")&&"function"==typeof t.pipeTo)return t.pipeTo(new WritableStream({write(t){e.node.res.write(t)}})).then(()=>{e.node.res.end()});if(hasProp(t,"pipe")&&"function"==typeof t.pipe)return new Promise((s,a)=>{t.pipe(e.node.res),t.on&&(t.on("end",()=>{e.node.res.end(),s()}),t.on("error",e=>{a(e)})),e.node.res.on("close",()=>{t.abort&&t.abort()})});throw new Error("[h3] Invalid or incompatible stream provided.")}function sendWebResponse(e,t){for(const[s,a]of t.headers)"set-cookie"===s?e.node.res.appendHeader(s,splitCookiesString(a)):e.node.res.setHeader(s,a);if(t.status&&(e.node.res.statusCode=sanitizeStatusCode(t.status,e.node.res.statusCode)),t.statusText&&(e.node.res.statusMessage=sanitizeStatusMessage(t.statusText)),t.redirected&&e.node.res.setHeader("location",t.url),t.body)return sendStream(e,t.body);e.node.res.end()}const ge=new Set(["PATCH","POST","PUT","DELETE"]),ye=new Set(["transfer-encoding","accept-encoding","connection","keep-alive","upgrade","expect","host","accept"]);async function proxyRequest(e,t,s={}){let a,c;ge.has(e.method)&&(s.streamRequest?(a=function(e){if(!ue.includes(e.method))return;const t=e.web?.request?.body||e._requestBody;return t||(le in e.node.req||"rawBody"in e.node.req||"body"in e.node.req||"__unenv__"in e.node.req?new ReadableStream({async start(t){const s=await readRawBody(e,!1);s&&t.enqueue(s),t.close()}}):new ReadableStream({start:t=>{e.node.req.on("data",e=>{t.enqueue(e)}),e.node.req.on("end",()=>{t.close()}),e.node.req.on("error",e=>{t.error(e)})}}))}(e),c="half"):a=await readRawBody(e,!1).catch(()=>{}));const l=s.fetchOptions?.method||e.method,u=function(e,...t){const s=t.filter(Boolean);if(0===s.length)return e;const a=new Headers(e);for(const e of s){const t=Array.isArray(e)?e:"function"==typeof e.entries?e.entries():Object.entries(e);for(const[e,s]of t)void 0!==s&&a.set(e,s)}return a}(getProxyRequestHeaders(e,{host:t.startsWith("/")}),s.fetchOptions?.headers,s.headers);return async function(e,t,s={}){let a;try{a=await _getFetch(s.fetch)(t,{headers:s.headers,ignoreResponseError:!0,...s.fetchOptions})}catch(e){throw createError$1({status:502,statusMessage:"Bad Gateway",cause:e})}e.node.res.statusCode=sanitizeStatusCode(a.status,e.node.res.statusCode),e.node.res.statusMessage=sanitizeStatusMessage(a.statusText);const c=[];for(const[t,s]of a.headers.entries())"content-encoding"!==t&&"content-length"!==t&&("set-cookie"!==t?e.node.res.setHeader(t,s):c.push(...splitCookiesString(s)));c.length>0&&e.node.res.setHeader("set-cookie",c.map(e=>(s.cookieDomainRewrite&&(e=rewriteCookieProperty(e,s.cookieDomainRewrite,"domain")),s.cookiePathRewrite&&(e=rewriteCookieProperty(e,s.cookiePathRewrite,"path")),e)));s.onResponse&&await s.onResponse(e,a);if(void 0!==a._data)return a._data;if(e.handled)return;if(!1===s.sendStream){const t=new Uint8Array(await a.arrayBuffer());return e.node.res.end(t)}if(a.body)for await(const t of a.body)e.node.res.write(t);return e.node.res.end()}(e,t,{...s,fetchOptions:{method:l,body:a,duplex:c,...s.fetchOptions,headers:u}})}function getProxyRequestHeaders(e,t){const s=Object.create(null),a=getRequestHeaders(e);for(const e in a)(!ye.has(e)||"host"===e&&t?.host)&&(s[e]=a[e]);return s}function fetchWithEvent(e,t,s,a){return _getFetch(a?.fetch)(t,{...s,context:s?.context||e.context,headers:{...getProxyRequestHeaders(e,{host:"string"==typeof t&&t.startsWith("/")}),...s?.headers}})}function _getFetch(e){if(e)return e;if(globalThis.fetch)return globalThis.fetch;throw new Error("fetch is not available. Try importing `node-fetch-native/polyfill` for Node.js.")}function rewriteCookieProperty(e,t,s){const a="string"==typeof t?{"*":t}:t;return e.replace(new RegExp(`(;\\s*${s}=)([^;]+)`,"gi"),(e,t,s)=>{let c;if(s in a)c=a[s];else{if(!("*"in a))return e;c=a["*"]}return c?t+c:""})}class H3Event{__is_event__=!0;node;web;context={};_method;_path;_headers;_requestBody;_handled=!1;_onBeforeResponseCalled;_onAfterResponseCalled;constructor(e,t){this.node={req:e,res:t}}get method(){return this._method||(this._method=(this.node.req.method||"GET").toUpperCase()),this._method}get path(){return this._path||this.node.req.url||"/"}get headers(){return this._headers||(this._headers=function(e){const t=new Headers;for(const[s,a]of Object.entries(e))if(Array.isArray(a))for(const e of a)t.append(s,e);else a&&t.set(s,a);return t}(this.node.req.headers)),this._headers}get handled(){return this._handled||this.node.res.writableEnded||this.node.res.headersSent}respondWith(e){return Promise.resolve(e).then(e=>sendWebResponse(this,e))}toString(){return`[${this.method}] ${this.path}`}toJSON(){return this.toString()}get req(){return this.node.req}get res(){return this.node.res}}function isEvent(e){return hasProp(e,"__is_event__")}function createEvent(e,t){return new H3Event(e,t)}function defineEventHandler(e){if("function"==typeof e)return e.__is_handler__=!0,e;const t={onRequest:_normalizeArray(e.onRequest),onBeforeResponse:_normalizeArray(e.onBeforeResponse)},_handler=s=>async function(e,t,s){if(s.onRequest)for(const t of s.onRequest)if(await t(e),e.handled)return;const a=await t(e),c={body:a};if(s.onBeforeResponse)for(const t of s.onBeforeResponse)await t(e,c);return c.body}(s,e.handler,t);return _handler.__is_handler__=!0,_handler.__resolve__=e.handler.__resolve__,_handler.__websocket__=e.websocket,_handler}function _normalizeArray(e){return e?Array.isArray(e)?e:[e]:void 0}const we=defineEventHandler;function isEventHandler(e){return hasProp(e,"__is_handler__")}function toEventHandler(e,t,s){return isEventHandler(e)||console.warn("[h3] Implicit event handler conversion is deprecated. Use `eventHandler()` or `fromNodeMiddleware()` to define event handlers.",s&&"/"!==s?`\n     Route: ${s}`:"",`\n     Handler: ${e}`),e}const lazyEventHandler=function(e){let t,s;const resolveHandler=()=>s?Promise.resolve(s):(t||(t=Promise.resolve(e()).then(e=>{const t=e.default||e;if("function"!=typeof t)throw new TypeError("Invalid lazy handler result. It should be a function:",t);return s={handler:toEventHandler(e.default||e)},s})),t),a=we(e=>s?s.handler(e):resolveHandler().then(t=>t.handler(e)));return a.__resolve__=resolveHandler,a};function createApp(e={}){const t=[],s=function(e,t){const s=t.debug?2:void 0;return we(async a=>{a.node.req.originalUrl=a.node.req.originalUrl||a.node.req.url||"/";const c=a._path||a.node.req.url||"/";let l;t.onRequest&&await t.onRequest(a);for(const u of e){if(u.route.length>1){if(!c.startsWith(u.route))continue;l=c.slice(u.route.length)||"/"}else l=c;if(u.match&&!u.match(l,a))continue;a._path=l,a.node.req.url=l;const e=await u.handler(a),d=void 0===e?void 0:await e;if(void 0!==d){const e={body:d};return t.onBeforeResponse&&(a._onBeforeResponseCalled=!0,await t.onBeforeResponse(a,e)),await handleHandlerResponse(a,e.body,s),void(t.onAfterResponse&&(a._onAfterResponseCalled=!0,await t.onAfterResponse(a,e)))}if(a.handled)return void(t.onAfterResponse&&(a._onAfterResponseCalled=!0,await t.onAfterResponse(a,void 0)))}if(!a.handled)throw createError$1({statusCode:404,statusMessage:`Cannot find any path matching ${a.path||"/"}.`});t.onAfterResponse&&(a._onAfterResponseCalled=!0,await t.onAfterResponse(a,void 0))})}(t,e),a=function(e){return async t=>{let s;for(const a of e){if("/"===a.route&&!a.handler.__resolve__)continue;if(!t.startsWith(a.route))continue;if(s=t.slice(a.route.length)||"/",a.match&&!a.match(s,void 0))continue;let e={route:a.route,handler:a.handler};if(e.handler.__resolve__){const t=await e.handler.__resolve__(s);if(!t)continue;e={...e,...t,route:joinURL(e.route||"/",t.route||"/")}}return e}}}(t);s.__resolve__=a;const c=function(e){let t;return()=>(t||(t=e()),t)}(()=>{return t=a,{...e.websocket,async resolve(e){const s=e.request?.url||e.url||"/",{pathname:a}="string"==typeof s?parseURL(s):s,c=await t(a);return c?.handler?.__websocket__||{}}};var t}),l={use:(e,t,s)=>use(l,e,t,s),resolve:a,handler:s,stack:t,options:e,get websocket(){return c()}};return l}function use(e,t,s,a){if(Array.isArray(t))for(const c of t)use(e,c,s,a);else if(Array.isArray(s))for(const c of s)use(e,t,c,a);else"string"==typeof t?e.stack.push(normalizeLayer({...a,route:t,handler:s})):"function"==typeof t?e.stack.push(normalizeLayer({...s,handler:t})):e.stack.push(normalizeLayer({...t}));return e}function normalizeLayer(e){let t=e.handler;return t.handler&&(t=t.handler),e.lazy?t=lazyEventHandler(t):isEventHandler(t)||(t=toEventHandler(t,0,e.route)),{route:withoutTrailingSlash(e.route),match:e.match,handler:t}}function handleHandlerResponse(e,t,s){if(null===t)return function(e,t){if(e.handled)return;t||200===e.node.res.statusCode||(t=e.node.res.statusCode);const s=sanitizeStatusCode(t,204);204===s&&e.node.res.removeHeader("content-length"),e.node.res.writeHead(s),e.node.res.end()}(e);if(t){if(a=t,"undefined"!=typeof Response&&a instanceof Response)return sendWebResponse(e,t);if(function(e){if(!e||"object"!=typeof e)return!1;if("function"==typeof e.pipe){if("function"==typeof e._read)return!0;if("function"==typeof e.abort)return!0}return"function"==typeof e.pipeTo}(t))return sendStream(e,t);if(t.buffer)return send(e,t);if(t.arrayBuffer&&"function"==typeof t.arrayBuffer)return t.arrayBuffer().then(s=>send(e,Buffer.from(s),t.type));if(t instanceof Error)throw createError$1(t);if("function"==typeof t.end)return!0}var a;const c=typeof t;if("string"===c)return send(e,t,de.html);if("object"===c||"boolean"===c||"number"===c)return send(e,JSON.stringify(t,void 0,s),de.json);if("bigint"===c)return send(e,t.toString(),de.json);throw createError$1({statusCode:500,statusMessage:`[h3] Cannot send ${c} as response.`})}const be=["connect","delete","get","head","options","post","put","trace","patch"];function toNodeListener(e){return async function(t,s){const a=createEvent(t,s);try{await e.handler(a)}catch(t){const s=createError$1(t);if(isError(t)||(s.unhandled=!0),setResponseStatus(a,s.statusCode,s.statusMessage),e.options.onError&&await e.options.onError(s,a),a.handled)return;(s.unhandled||s.fatal)&&console.error("[h3]",s.fatal?"[fatal]":"[unhandled]",s),e.options.onBeforeResponse&&!a._onBeforeResponseCalled&&await e.options.onBeforeResponse(a,{body:s}),await function(e,t,s){if(e.handled)return;const a=isError(t)?t:createError$1(t),c={statusCode:a.statusCode,statusMessage:a.statusMessage,stack:[],data:a.data};if(s&&(c.stack=(a.stack||"").split("\n").map(e=>e.trim())),e.handled)return;setResponseStatus(e,Number.parseInt(a.statusCode),a.statusMessage),e.node.res.setHeader("content-type",de.json),e.node.res.end(JSON.stringify(c,void 0,2))}(a,s,!!e.options.debug),e.options.onAfterResponse&&!a._onAfterResponseCalled&&await e.options.onAfterResponse(a,{body:s})}}}function flatHooks(e,t={},s){for(const a in e){const c=e[a],l=s?`${s}:${a}`:a;"object"==typeof c&&null!==c?flatHooks(c,t,l):"function"==typeof c&&(t[l]=c)}return t}const ve={run:e=>e()},xe=void 0!==console.createTask?console.createTask:()=>ve;function serialTaskCaller(e,t){const s=t.shift(),a=xe(s);return e.reduce((e,s)=>e.then(()=>a.run(()=>s(...t))),Promise.resolve())}function parallelTaskCaller(e,t){const s=t.shift(),a=xe(s);return Promise.all(e.map(e=>a.run(()=>e(...t))))}function callEachWith(e,t){for(const s of[...e])s(t)}class Hookable{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,s={}){if(!e||"function"!=typeof t)return()=>{};const a=e;let c;for(;this._deprecatedHooks[e];)c=this._deprecatedHooks[e],e=c.to;if(c&&!s.allowDeprecated){let e=c.message;e||(e=`${a} hook has been deprecated`+(c.to?`, please use ${c.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(e)||(console.warn(e),this._deprecatedMessages.add(e))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let s,_function=(...e)=>("function"==typeof s&&s(),s=void 0,_function=void 0,t(...e));return s=this.hook(e,_function),s}removeHook(e,t){if(this._hooks[e]){const s=this._hooks[e].indexOf(t);-1!==s&&this._hooks[e].splice(s,1),0===this._hooks[e].length&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]="string"==typeof t?{to:t}:t;const s=this._hooks[e]||[];delete this._hooks[e];for(const t of s)this.hook(e,t)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=flatHooks(e),s=Object.keys(t).map(e=>this.hook(e,t[e]));return()=>{for(const e of s.splice(0,s.length))e()}}removeHooks(e){const t=flatHooks(e);for(const e in t)this.removeHook(e,t[e])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(serialTaskCaller,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(parallelTaskCaller,e,...t)}callHookWith(e,t,...s){const a=this._before||this._after?{name:t,args:s,context:{}}:void 0;this._before&&callEachWith(this._before,a);const c=e(t in this._hooks?[...this._hooks[t]]:[],s);return c instanceof Promise?c.finally(()=>{this._after&&a&&callEachWith(this._after,a)}):(this._after&&a&&callEachWith(this._after,a),c)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(void 0!==this._before){const t=this._before.indexOf(e);-1!==t&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(void 0!==this._after){const t=this._after.indexOf(e);-1!==t&&this._after.splice(t,1)}}}}function createHooks(){return new Hookable}const _e=globalThis.Headers,Re=globalThis.AbortController,Se=globalThis.fetch||(()=>{throw new Error("[node-fetch-native] Failed to fetch: `globalThis.fetch` is not available!")});class FetchError extends Error{constructor(e,t){super(e,t),this.name="FetchError",t?.cause&&!this.cause&&(this.cause=t.cause)}}const ke=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function isPayloadMethod(e="GET"){return ke.has(e.toUpperCase())}const Ce=new Set(["image/svg","application/xml","application/xhtml","application/html"]),je=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function resolveFetchOptions(e,t,s,a){const c=function(e,t,s){if(!t)return new s(e);const a=new s(t);if(e)for(const[t,c]of Symbol.iterator in e||Array.isArray(e)?e:new s(e))a.set(t,c);return a}(t?.headers??e?.headers,s?.headers,a);let l;return(s?.query||s?.params||t?.params||t?.query)&&(l={...s?.params,...s?.query,...t?.params,...t?.query}),{...s,...t,query:l,params:l,headers:c}}async function callHooks(e,t){if(t)if(Array.isArray(t))for(const s of t)await s(e);else await t(e)}const Ae=new Set([408,409,425,429,500,502,503,504]),Ee=new Set([101,204,205,304]);function createFetch(e={}){const{fetch:t=globalThis.fetch,Headers:s=globalThis.Headers,AbortController:a=globalThis.AbortController}=e;async function onError(e){const t=e.error&&"AbortError"===e.error.name&&!e.options.timeout||!1;if(!1!==e.options.retry&&!t){let t;t="number"==typeof e.options.retry?e.options.retry:isPayloadMethod(e.options.method)?0:1;const s=e.response&&e.response.status||500;if(t>0&&(Array.isArray(e.options.retryStatusCodes)?e.options.retryStatusCodes.includes(s):Ae.has(s))){const s="function"==typeof e.options.retryDelay?e.options.retryDelay(e):e.options.retryDelay||0;return s>0&&await new Promise(e=>setTimeout(e,s)),$fetchRaw(e.request,{...e.options,retry:t-1})}}const s=function(e){const t=e.error?.message||e.error?.toString()||"",s=e.request?.method||e.options?.method||"GET",a=e.request?.url||String(e.request)||"/",c=`[${s}] ${JSON.stringify(a)}`,l=e.response?`${e.response.status} ${e.response.statusText}`:"<no response>",u=new FetchError(`${c}: ${l}${t?` ${t}`:""}`,e.error?{cause:e.error}:void 0);for(const t of["request","options","response"])Object.defineProperty(u,t,{get:()=>e[t]});for(const[t,s]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(u,t,{get:()=>e.response&&e.response[s]});return u}(e);throw Error.captureStackTrace&&Error.captureStackTrace(s,$fetchRaw),s}const $fetchRaw=async function(c,l={}){const u={request:c,options:resolveFetchOptions(c,l,e.defaults,s),response:void 0,error:void 0};let d;if(u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await callHooks(u,u.options.onRequest),"string"==typeof u.request&&(u.options.baseURL&&(u.request=withBase(u.request,u.options.baseURL)),u.options.query&&(u.request=withQuery(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&isPayloadMethod(u.options.method)&&(!function(e){if(void 0===e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t||null===t||"object"===t&&(!!Array.isArray(e)||!e.buffer&&(e.constructor&&"Object"===e.constructor.name||"function"==typeof e.toJSON))}(u.options.body)?("pipeTo"in u.options.body&&"function"==typeof u.options.body.pipeTo||"function"==typeof u.options.body.pipe)&&("duplex"in u.options||(u.options.duplex="half")):(u.options.body="string"==typeof u.options.body?u.options.body:JSON.stringify(u.options.body),u.options.headers=new s(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json"))),!u.options.signal&&u.options.timeout){const e=new a;d=setTimeout(()=>{const t=new Error("[TimeoutError]: The operation was aborted due to timeout");t.name="TimeoutError",t.code=23,e.abort(t)},u.options.timeout),u.options.signal=e.signal}try{u.response=await t(u.request,u.options)}catch(e){return u.error=e,u.options.onRequestError&&await callHooks(u,u.options.onRequestError),await onError(u)}finally{d&&clearTimeout(d)}if((u.response.body||u.response._bodyInit)&&!Ee.has(u.response.status)&&"HEAD"!==u.options.method){const e=(u.options.parseResponse?"json":u.options.responseType)||function(e=""){if(!e)return"json";const t=e.split(";").shift()||"";return je.test(t)?"json":Ce.has(t)||t.startsWith("text/")?"text":"blob"}(u.response.headers.get("content-type")||"");switch(e){case"json":{const e=await u.response.text(),t=u.options.parseResponse||destr;u.response._data=t(e);break}case"stream":u.response._data=u.response.body||u.response._bodyInit;break;default:u.response._data=await u.response[e]()}}return u.options.onResponse&&await callHooks(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await callHooks(u,u.options.onResponseError),await onError(u)):u.response},$fetch=async function(e,t){return(await $fetchRaw(e,t))._data};return $fetch.raw=$fetchRaw,$fetch.native=(...e)=>t(...e),$fetch.create=(t={},s={})=>createFetch({...e,...s,defaults:{...e.defaults,...s.defaults,...t}}),$fetch}const $e=globalThis.fetch?(...e)=>globalThis.fetch(...e):function(){if(!JSON.parse(e.env.FETCH_KEEP_ALIVE||"false"))return Se;const s={keepAlive:!0},c=new t.Agent(s),l=new a.Agent(s),u={agent:e=>"http:"===e.protocol?c:l};return function(e,t){return Se(e,{...u,...t})}}(),Te=globalThis.Headers||_e,Oe=globalThis.AbortController||Re,He=createFetch({fetch:$e,Headers:Te,AbortController:Oe});function asyncCall(e,...t){try{return(s=e(...t))&&"function"==typeof s.then?s:Promise.resolve(s)}catch(e){return Promise.reject(e)}var s}function stringify(e){if(function(e){const t=typeof e;return null===e||"object"!==t&&"function"!==t}(e))return String(e);if(function(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}(e)||Array.isArray(e))return JSON.stringify(e);if("function"==typeof e.toJSON)return stringify(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const Le="base64:";function serializeRaw(e){return"string"==typeof e?e:Le+function(e){if(globalThis.Buffer)return Buffer.from(e).toString("base64");return globalThis.btoa(String.fromCodePoint(...e))}(e)}function deserializeRaw(e){return"string"!=typeof e?e:e.startsWith(Le)?function(e){if(globalThis.Buffer)return Buffer.from(e,"base64");return Uint8Array.from(globalThis.atob(e),e=>e.codePointAt(0))}(e.slice(7)):e}const Ue=["has","hasItem","get","getItem","getItemRaw","set","setItem","setItemRaw","del","remove","removeItem","getMeta","setMeta","removeMeta","getKeys","clear","mount","unmount"];function prefixStorage(e,t){if(!(t=normalizeBaseKey(t)))return e;const s={...e};for(const a of Ue)s[a]=(s="",...c)=>e[a](t+s,...c);return s.getKeys=(s="",...a)=>e.getKeys(t+s,...a).then(e=>e.map(e=>e.slice(t.length))),s.keys=s.getKeys,s.getItems=async(s,a)=>{const c=s.map(e=>"string"==typeof e?t+e:{...e,key:t+e.key});return(await e.getItems(c,a)).map(e=>({key:e.key.slice(t.length),value:e.value}))},s.setItems=async(s,a)=>{const c=s.map(e=>({key:t+e.key,value:e.value,options:e.options}));return e.setItems(c,a)},s}function normalizeKey$1(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function joinKeys(...e){return normalizeKey$1(e.join(":"))}function normalizeBaseKey(e){return(e=normalizeKey$1(e))?e+":":""}const memory=()=>{const e=new Map;return{name:"memory",getInstance:()=>e,hasItem:t=>e.has(t),getItem:t=>e.get(t)??null,getItemRaw:t=>e.get(t)??null,setItem(t,s){e.set(t,s)},setItemRaw(t,s){e.set(t,s)},removeItem(t){e.delete(t)},getKeys:()=>[...e.keys()],clear(){e.clear()},dispose(){e.clear()}}};function watch(e,t,s){return e.watch?e.watch((e,a)=>t(e,s+a)):()=>{}}async function dispose(e){"function"==typeof e.dispose&&await asyncCall(e.dispose)}const Ie={},normalizeKey=function(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""},Pe={getKeys:()=>Promise.resolve(Object.keys(Ie)),hasItem:e=>(e=normalizeKey(e),Promise.resolve(e in Ie)),getItem:e=>(e=normalizeKey(e),Promise.resolve(Ie[e]?Ie[e].import():null)),getMeta:e=>(e=normalizeKey(e),Promise.resolve(Ie[e]?Ie[e].meta:{}))};function createError(e,t,s){const a=new Error(`[unstorage] [${e}] ${t}`,s);return Error.captureStackTrace&&Error.captureStackTrace(a,createError),a}function ignoreNotfound(e){return"ENOENT"===e.code||"EISDIR"===e.code?null:e}function ignoreExists(e){return"EEXIST"===e.code?null:e}async function writeFile(e,t,s){return await ensuredir(f(e)),u.writeFile(e,t,s)}function readFile(e,t){return u.readFile(e,t).catch(ignoreNotfound)}function readdir(e){return u.readdir(e,{withFileTypes:!0}).catch(ignoreNotfound).then(e=>e||[])}async function ensuredir(e){d(e)||(await ensuredir(f(e)).catch(ignoreExists),await u.mkdir(e).catch(ignoreExists))}async function readdirRecursive(e,t,s){if(t&&t(e))return[];const a=await readdir(e),c=[];return await Promise.all(a.map(async a=>{const l=h(e,a.name);if(a.isDirectory()){if(void 0===s||s>0){const e=await readdirRecursive(l,t,void 0===s?void 0:s-1);c.push(...e.map(e=>a.name+"/"+e))}}else t&&t(a.name)||c.push(a.name)})),c}async function rmRecursive(e){const t=await readdir(e);await Promise.all(t.map(t=>{const s=h(e,t.name);return t.isDirectory()?rmRecursive(s).then(()=>u.rmdir(s)):u.unlink(s)}))}const Ne=/\.\.:|\.\.$/,Me="fs-lite",unstorage_47drivers_47fs_45lite=(e={})=>{if(!e.base)throw t=Me,s="base",Array.isArray(s)?createError(t,`Missing some of the required options ${s.map(e=>"`"+e+"`").join(", ")}`):createError(t,`Missing required option \`${s}\`.`);var t,s;e.base=h(e.base);const r=t=>{if(Ne.test(t))throw createError(Me,`Invalid key: ${JSON.stringify(t)}. It should not contain .. segments`);return m(e.base,t.replace(/:/g,"/"))};return{name:Me,options:e,flags:{maxDepth:!0},hasItem:e=>d(r(e)),getItem:e=>readFile(r(e),"utf8"),getItemRaw:e=>readFile(r(e)),async getMeta(e){const{atime:t,mtime:s,size:a,birthtime:c,ctime:l}=await u.stat(r(e)).catch(()=>({}));return{atime:t,mtime:s,size:a,birthtime:c,ctime:l}},setItem(t,s){if(!e.readOnly)return writeFile(r(t),s,"utf8")},setItemRaw(t,s){if(!e.readOnly)return writeFile(r(t),s)},removeItem(t){var s;if(!e.readOnly)return s=r(t),u.unlink(s).catch(ignoreNotfound)},getKeys:(t,s)=>readdirRecursive(r("."),e.ignore,s?.maxDepth),async clear(){e.readOnly||e.noClear||await rmRecursive(r("."))}}},ze=function(e={}){const t={mounts:{"":e.driver||memory()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},getMount=e=>{for(const s of t.mountpoints)if(e.startsWith(s))return{base:s,relativeKey:e.slice(s.length),driver:t.mounts[s]};return{base:"",relativeKey:e,driver:t.mounts[""]}},getMounts=(e,s)=>t.mountpoints.filter(t=>t.startsWith(e)||s&&e.startsWith(t)).map(s=>({relativeBase:e.length>s.length?e.slice(s.length):void 0,mountpoint:s,driver:t.mounts[s]})),onChange=(e,s)=>{if(t.watching){s=normalizeKey$1(s);for(const a of t.watchListeners)a(e,s)}},stopWatch=async()=>{if(t.watching){for(const e in t.unwatch)await t.unwatch[e]();t.unwatch={},t.watching=!1}},runBatch=(e,t,s)=>{const a=new Map,getBatch=e=>{let t=a.get(e.base);return t||(t={driver:e.driver,base:e.base,items:[]},a.set(e.base,t)),t};for(const s of e){const e="string"==typeof s,a=normalizeKey$1(e?s:s.key),c=e?void 0:s.value,l=e||!s.options?t:{...t,...s.options},u=getMount(a);getBatch(u).items.push({key:a,value:c,relativeKey:u.relativeKey,options:l})}return Promise.all([...a.values()].map(e=>s(e))).then(e=>e.flat())},s={hasItem(e,t={}){e=normalizeKey$1(e);const{relativeKey:s,driver:a}=getMount(e);return asyncCall(a.hasItem,s,t)},getItem(e,t={}){e=normalizeKey$1(e);const{relativeKey:s,driver:a}=getMount(e);return asyncCall(a.getItem,s,t).then(e=>destr(e))},getItems:(e,t={})=>runBatch(e,t,e=>e.driver.getItems?asyncCall(e.driver.getItems,e.items.map(e=>({key:e.relativeKey,options:e.options})),t).then(t=>t.map(t=>({key:joinKeys(e.base,t.key),value:destr(t.value)}))):Promise.all(e.items.map(t=>asyncCall(e.driver.getItem,t.relativeKey,t.options).then(e=>({key:t.key,value:destr(e)}))))),getItemRaw(e,t={}){e=normalizeKey$1(e);const{relativeKey:s,driver:a}=getMount(e);return a.getItemRaw?asyncCall(a.getItemRaw,s,t):asyncCall(a.getItem,s,t).then(e=>deserializeRaw(e))},async setItem(e,t,a={}){if(void 0===t)return s.removeItem(e);e=normalizeKey$1(e);const{relativeKey:c,driver:l}=getMount(e);l.setItem&&(await asyncCall(l.setItem,c,stringify(t),a),l.watch||onChange("update",e))},async setItems(e,t){await runBatch(e,t,async e=>{if(e.driver.setItems)return asyncCall(e.driver.setItems,e.items.map(e=>({key:e.relativeKey,value:stringify(e.value),options:e.options})),t);e.driver.setItem&&await Promise.all(e.items.map(t=>asyncCall(e.driver.setItem,t.relativeKey,stringify(t.value),t.options)))})},async setItemRaw(e,t,a={}){if(void 0===t)return s.removeItem(e,a);e=normalizeKey$1(e);const{relativeKey:c,driver:l}=getMount(e);if(l.setItemRaw)await asyncCall(l.setItemRaw,c,t,a);else{if(!l.setItem)return;await asyncCall(l.setItem,c,serializeRaw(t),a)}l.watch||onChange("update",e)},async removeItem(e,t={}){"boolean"==typeof t&&(t={removeMeta:t}),e=normalizeKey$1(e);const{relativeKey:s,driver:a}=getMount(e);a.removeItem&&(await asyncCall(a.removeItem,s,t),(t.removeMeta||t.removeMata)&&await asyncCall(a.removeItem,s+"$",t),a.watch||onChange("remove",e))},async getMeta(e,t={}){"boolean"==typeof t&&(t={nativeOnly:t}),e=normalizeKey$1(e);const{relativeKey:s,driver:a}=getMount(e),c=Object.create(null);if(a.getMeta&&Object.assign(c,await asyncCall(a.getMeta,s,t)),!t.nativeOnly){const e=await asyncCall(a.getItem,s+"$",t).then(e=>destr(e));e&&"object"==typeof e&&("string"==typeof e.atime&&(e.atime=new Date(e.atime)),"string"==typeof e.mtime&&(e.mtime=new Date(e.mtime)),Object.assign(c,e))}return c},setMeta(e,t,s={}){return this.setItem(e+"$",t,s)},removeMeta(e,t={}){return this.removeItem(e+"$",t)},async getKeys(e,t={}){e=normalizeBaseKey(e);const s=getMounts(e,!0);let a=[];const c=[];let l=!0;for(const e of s){e.driver.flags?.maxDepth||(l=!1);const s=await asyncCall(e.driver.getKeys,e.relativeBase,t);for(const t of s){const s=e.mountpoint+normalizeKey$1(t);a.some(e=>s.startsWith(e))||c.push(s)}a=[e.mountpoint,...a.filter(t=>!t.startsWith(e.mountpoint))]}const u=void 0!==t.maxDepth&&!l;return c.filter(s=>(!u||function(e,t){if(void 0===t)return!0;let s=0,a=e.indexOf(":");for(;a>-1;)s++,a=e.indexOf(":",a+1);return s<=t}(s,t.maxDepth))&&function(e,t){return t?e.startsWith(t)&&"$"!==e[e.length-1]:"$"!==e[e.length-1]}(s,e))},async clear(e,t={}){e=normalizeBaseKey(e),await Promise.all(getMounts(e,!1).map(async e=>{if(e.driver.clear)return asyncCall(e.driver.clear,e.relativeBase,t);if(e.driver.removeItem){const s=await e.driver.getKeys(e.relativeBase||"",t);return Promise.all(s.map(s=>e.driver.removeItem(s,t)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(e=>dispose(e)))},watch:async e=>(await(async()=>{if(!t.watching){t.watching=!0;for(const e in t.mounts)t.unwatch[e]=await watch(t.mounts[e],onChange,e)}})(),t.watchListeners.push(e),async()=>{t.watchListeners=t.watchListeners.filter(t=>t!==e),0===t.watchListeners.length&&await stopWatch()}),async unwatch(){t.watchListeners=[],await stopWatch()},mount(e,a){if((e=normalizeBaseKey(e))&&t.mounts[e])throw new Error(`already mounted at ${e}`);return e&&(t.mountpoints.push(e),t.mountpoints.sort((e,t)=>t.length-e.length)),t.mounts[e]=a,t.watching&&Promise.resolve(watch(a,onChange,e)).then(s=>{t.unwatch[e]=s}).catch(console.error),s},async unmount(e,s=!0){(e=normalizeBaseKey(e))&&t.mounts[e]&&(t.watching&&e in t.unwatch&&(t.unwatch[e]?.(),delete t.unwatch[e]),s&&await dispose(t.mounts[e]),t.mountpoints=t.mountpoints.filter(t=>t!==e),delete t.mounts[e])},getMount(e=""){e=normalizeKey$1(e)+":";const t=getMount(e);return{driver:t.driver,base:t.base}},getMounts(e="",t={}){e=normalizeKey$1(e);return getMounts(e,t.parents).map(e=>({driver:e.driver,base:e.mountpoint}))},keys:(e,t={})=>s.getKeys(e,t),get:(e,t={})=>s.getItem(e,t),set:(e,t,a={})=>s.setItem(e,t,a),has:(e,t={})=>s.hasItem(e,t),del:(e,t={})=>s.removeItem(e,t),remove:(e,t={})=>s.removeItem(e,t)};return s}({});function useStorage(e=""){return e?prefixStorage(ze,e):ze}function serialize$1(e){return"string"==typeof e?`'${e}'`:(new qe).serialize(e)}ze.mount("/assets",Pe),ze.mount("data",unstorage_47drivers_47fs_45lite({driver:"fsLite",base:"./.data/kv"}));const qe=function(){class o{#e=new Map;compare(e,t){const s=typeof e,a=typeof t;return"string"===s&&"string"===a?e.localeCompare(t):"number"===s&&"number"===a?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(null===e)return"null";switch(typeof e){case"string":return t?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if("[object Object]"!==t)return this.serializeBuiltInType(t.length<10?`unknown:${t}`:t.slice(8,-1),e);const s=e.constructor,a=s===Object||void 0===s?"":s.name;if(""!==a&&globalThis[a]===s)return this.serializeBuiltInType(a,e);if("function"==typeof e.toJSON){const t=e.toJSON();return a+(null!==t&&"object"==typeof t?this.$object(t):`(${this.serialize(t)})`)}return this.serializeObjectEntries(a,Object.entries(e))}serializeBuiltInType(e,t){const s=this["$"+e];if(s)return s.call(this,t);if("function"==typeof t?.entries)return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,t){const s=Array.from(t).sort((e,t)=>this.compare(e[0],t[0]));let a=`${e}{`;for(let e=0;e<s.length;e++){const[t,c]=s[e];a+=`${this.serialize(t,!0)}:${this.serialize(c)}`,e<s.length-1&&(a+=",")}return a+"}"}$object(e){let t=this.#e.get(e);return void 0===t&&(this.#e.set(e,`#${this.#e.size}`),t=this.serializeObject(e),this.#e.set(e,t)),t}$function(e){const t=Function.prototype.toString.call(e);return"[native code] }"===t.slice(-15)?`${e.name||""}()[native]`:`${e.name}(${e.length})${t.replace(/\s*\n\s*/g,"")}`}$Array(e){let t="[";for(let s=0;s<e.length;s++)t+=this.serialize(e[s]),s<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((e,t)=>this.compare(e,t)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const e of["Error","RegExp","URL"])o.prototype["$"+e]=function(t){return`${e}(${t})`};for(const e of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])o.prototype["$"+e]=function(t){return`${e}[${t.join(",")}]`};for(const e of["BigInt64Array","BigUint64Array"])o.prototype["$"+e]=function(t){return`${e}[${t.join("n,")}${t.length>0?"n":""}]`};return o}();function isEqual(e,t){return e===t||serialize$1(e)===serialize$1(t)}const Be=globalThis.process?.getBuiltinModule?.("crypto")?.hash,Fe="sha256",De="base64url";function digest(e){if(Be)return Be(Fe,e,De);const t=g(Fe).update(e);return globalThis.process?.versions?.webcontainer?t.digest().toString(De):t.digest(De)}const Ke=(()=>{class Hasher2{buff="";#t=new Map;write(e){this.buff+=e}dispatch(e){return this[null===e?"null":typeof e](e)}object(e){if(e&&"function"==typeof e.toJSON)return this.object(e.toJSON());const t=Object.prototype.toString.call(e);let s="";const a=t.length;s=a<10?"unknown:["+t+"]":t.slice(8,a-1),s=s.toLowerCase();let c=null;if(void 0!==(c=this.#t.get(e)))return this.dispatch("[CIRCULAR:"+c+"]");if(this.#t.set(e,this.#t.size),"undefined"!=typeof Buffer&&Buffer.isBuffer&&Buffer.isBuffer(e))return this.write("buffer:"),this.write(e.toString("utf8"));if("object"!==s&&"function"!==s&&"asyncfunction"!==s)this[s]?this[s](e):this.unknown(e,s);else{const t=Object.keys(e).sort(),s=[];this.write("object:"+(t.length+s.length)+":");const dispatchForKey=t=>{this.dispatch(t),this.write(":"),this.dispatch(e[t]),this.write(",")};for(const e of t)dispatchForKey(e);for(const e of s)dispatchForKey(e)}}array(e,t){if(t=void 0!==t&&t,this.write("array:"+e.length+":"),!t||e.length<=1){for(const t of e)this.dispatch(t);return}const s=new Map,a=e.map(e=>{const t=new Hasher2;t.dispatch(e);for(const[e,a]of t.#t)s.set(e,a);return t.toString()});return this.#t=s,a.sort(),this.array(a,!1)}date(e){return this.write("date:"+e.toJSON())}symbol(e){return this.write("symbol:"+e.toString())}unknown(e,t){if(this.write(t),e)return this.write(":"),e&&"function"==typeof e.entries?this.array([...e.entries()],!0):void 0}error(e){return this.write("error:"+e.toString())}boolean(e){return this.write("bool:"+e)}string(e){this.write("string:"+e.length+":"),this.write(e)}function(e){this.write("fn:"),!function(e){if("function"!=typeof e)return!1;return"[native code] }"===Function.prototype.toString.call(e).slice(-15)}(e)?this.dispatch(e.toString()):this.dispatch("[native]")}number(e){return this.write("number:"+e)}null(){return this.write("Null")}undefined(){return this.write("Undefined")}regexp(e){return this.write("regex:"+e.toString())}arraybuffer(e){return this.write("arraybuffer:"),this.dispatch(new Uint8Array(e))}url(e){return this.write("url:"+e.toString())}map(e){this.write("map:");const t=[...e];return this.array(t,!1)}set(e){this.write("set:");const t=[...e];return this.array(t,!1)}bigint(e){return this.write("bigint:"+e.toString())}}for(const e of["uint8array","uint8clampedarray","unt8array","uint16array","unt16array","uint32array","unt32array","float32array","float64array"])Hasher2.prototype[e]=function(t){return this.write(e+":"),this.array([...t],!1)};return Hasher2})();function hash(e){return digest("string"==typeof e?e:function(e){const t=new Ke;return t.dispatch(e),t.buff}(e)).replace(/[-_]/g,"").slice(0,10)}function defineCachedFunction(e,t={}){t={name:"_",base:"/cache",swr:!0,maxAge:1,...t};const s={},a=t.group||"nitro/functions",c=t.name||e.name||"_",l=t.integrity||hash([e,t]),u=t.validate||(e=>void 0!==e.value);return async(...d)=>{if(await(t.shouldBypassCache?.(...d)))return e(...d);const h=await(t.getKey||getKey)(...d),f=await(t.shouldInvalidateCache?.(...d)),m=await async function(e,d,h,f){const m=[t.base,a,c,e+".json"].filter(Boolean).join(":").replace(/:\/$/,":index");let g=await useStorage().getItem(m).catch(e=>{console.error("[cache] Cache read error.",e),useNitroApp().captureError(e,{event:f,tags:["cache"]})})||{};if("object"!=typeof g){g={};const e=new Error("Malformed data read from cache.");console.error("[cache]",e),useNitroApp().captureError(e,{event:f,tags:["cache"]})}const x=1e3*(t.maxAge??0);x&&(g.expires=Date.now()+x);const _=h||g.integrity!==l||x&&Date.now()-(g.mtime||0)>x||!1===u(g),R=_?(async()=>{const a=s[e];a||(void 0!==g.value&&(t.staleMaxAge||0)>=0&&!1===t.swr&&(g.value=void 0,g.integrity=void 0,g.mtime=void 0,g.expires=void 0),s[e]=Promise.resolve(d()));try{g.value=await s[e]}catch(t){throw a||delete s[e],t}if(!a&&(g.mtime=Date.now(),g.integrity=l,delete s[e],!1!==u(g))){let e;t.maxAge&&!t.swr&&(e={ttl:t.maxAge});const s=useStorage().setItem(m,g,e).catch(e=>{console.error("[cache] Cache write error.",e),useNitroApp().captureError(e,{event:f,tags:["cache"]})});f?.waitUntil&&f.waitUntil(s)}})():Promise.resolve();return void 0===g.value?await R:_&&f&&f.waitUntil&&f.waitUntil(R),t.swr&&!1!==u(g)?(R.catch(e=>{console.error("[cache] SWR handler error.",e),useNitroApp().captureError(e,{event:f,tags:["cache"]})}),g):R.then(()=>g)}(h,()=>e(...d),f,d[0]&&isEvent(d[0])?d[0]:void 0);let g=m.value;return t.transform&&(g=await t.transform(m,...d)||g),g}}function getKey(...e){return e.length>0?hash(e):""}function escapeKey(e){return String(e).replace(/\W/g,"")}function defineCachedEventHandler(e,t={name:"_",base:"/cache",swr:!0,maxAge:1}){const s=(t.varies||[]).filter(Boolean).map(e=>e.toLowerCase()).sort(),a={...t,getKey:async e=>{const a=await(t.getKey?.(e));if(a)return escapeKey(a);const c=e.node.req.originalUrl||e.node.req.url||e.path;let l;try{l=escapeKey(decodeURI(parseURL(c).pathname)).slice(0,16)||"index"}catch{l="-"}return[`${l}.${hash(c)}`,...s.map(t=>[t,e.node.req.headers[t]]).map(([e,t])=>`${escapeKey(e)}.${hash(t)}`)].join(":")},validate:e=>!!e.value&&(!(e.value.code>=400)&&(void 0!==e.value.body&&("undefined"!==e.value.headers.etag&&"undefined"!==e.value.headers["last-modified"]))),group:t.group||"nitro/handlers",integrity:t.integrity||hash([e,t])},c=function(e,t={}){return defineCachedFunction(e,t)}(async c=>{const l={};for(const e of s){const t=c.node.req.headers[e];void 0!==t&&(l[e]=t)}const u=cloneWithProxy(c.node.req,{headers:l}),d={};let h;const f=createEvent(u,cloneWithProxy(c.node.res,{statusCode:200,writableEnded:!1,writableFinished:!1,headersSent:!1,closed:!1,getHeader:e=>d[e],setHeader(e,t){return d[e]=t,this},getHeaderNames:()=>Object.keys(d),hasHeader:e=>e in d,removeHeader(e){delete d[e]},getHeaders:()=>d,end(e,t,s){return"string"==typeof e&&(h=e),"function"==typeof t&&t(),"function"==typeof s&&s(),this},write:(e,t,s)=>("string"==typeof e&&(h=e),"function"==typeof t&&t(void 0),"function"==typeof s&&s(),!0),writeHead(e,t){if(this.statusCode=e,t){if(Array.isArray(t)||"string"==typeof t)throw new TypeError("Raw headers  is not supported.");for(const e in t){const s=t[e];void 0!==s&&this.setHeader(e,s)}}return this}}));f.fetch=(e,t)=>fetchWithEvent(f,e,t,{fetch:useNitroApp().localFetch}),f.$fetch=(e,t)=>fetchWithEvent(f,e,t,{fetch:globalThis.$fetch}),f.waitUntil=c.waitUntil,f.context=c.context,f.context.cache={options:a};const m=await e(f)||h,g=f.node.res.getHeaders();g.etag=String(g.Etag||g.etag||`W/"${hash(m)}"`),g["last-modified"]=String(g["Last-Modified"]||g["last-modified"]||(new Date).toUTCString());const x=[];t.swr?(t.maxAge&&x.push(`s-maxage=${t.maxAge}`),t.staleMaxAge?x.push(`stale-while-revalidate=${t.staleMaxAge}`):x.push("stale-while-revalidate")):t.maxAge&&x.push(`max-age=${t.maxAge}`),x.length>0&&(g["cache-control"]=x.join(", "));return{code:f.node.res.statusCode,headers:g,body:m}},a);return defineEventHandler(async s=>{if(t.headersOnly){if(handleCacheHeaders(s,{maxAge:t.maxAge}))return;return e(s)}const a=await c(s);if(s.node.res.headersSent||s.node.res.writableEnded)return a.body;if(!handleCacheHeaders(s,{modifiedTime:new Date(a.headers["last-modified"]),etag:a.headers.etag,maxAge:t.maxAge})){s.node.res.statusCode=a.code;for(const e in a.headers){const t=a.headers[e];"set-cookie"===e?s.node.res.appendHeader(e,splitCookiesString(t)):void 0!==t&&s.node.res.setHeader(e,t)}return a.body}})}function cloneWithProxy(e,t){return new Proxy(e,{get:(e,s,a)=>s in t?t[s]:Reflect.get(e,s,a),set:(e,s,a,c)=>s in t?(t[s]=a,!0):Reflect.set(e,s,a,c)})}const We=defineCachedEventHandler;function klona(e){if("object"!=typeof e)return e;var t,s,a=Object.prototype.toString.call(e);if("[object Object]"===a){if(e.constructor!==Object&&"function"==typeof e.constructor)for(t in s=new e.constructor,e)e.hasOwnProperty(t)&&s[t]!==e[t]&&(s[t]=klona(e[t]));else for(t in s={},e)"__proto__"===t?Object.defineProperty(s,t,{value:klona(e[t]),configurable:!0,enumerable:!0,writable:!0}):s[t]=klona(e[t]);return s}if("[object Array]"===a){for(t=e.length,s=Array(t);t--;)s[t]=klona(e[t]);return s}return"[object Set]"===a?(s=new Set,e.forEach(function(e){s.add(klona(e))}),s):"[object Map]"===a?(s=new Map,e.forEach(function(e,t){s.set(klona(t),klona(e))}),s):"[object Date]"===a?new Date(+e):"[object RegExp]"===a?((s=new RegExp(e.source,e.flags)).lastIndex=e.lastIndex,s):"[object DataView]"===a?new e.constructor(klona(e.buffer)):"[object ArrayBuffer]"===a?e.slice(0):"Array]"===a.slice(-6)?new e.constructor(e):e}const Ze=te({ui:{}},{nuxt:{},ui:{colors:{primary:"green",secondary:"blue",success:"green",info:"blue",warning:"yellow",error:"red",neutral:"slate"},icons:{arrowDown:"i-lucide-arrow-down",arrowLeft:"i-lucide-arrow-left",arrowRight:"i-lucide-arrow-right",arrowUp:"i-lucide-arrow-up",caution:"i-lucide-circle-alert",check:"i-lucide-check",chevronDoubleLeft:"i-lucide-chevrons-left",chevronDoubleRight:"i-lucide-chevrons-right",chevronDown:"i-lucide-chevron-down",chevronLeft:"i-lucide-chevron-left",chevronRight:"i-lucide-chevron-right",chevronUp:"i-lucide-chevron-up",close:"i-lucide-x",copy:"i-lucide-copy",copyCheck:"i-lucide-copy-check",dark:"i-lucide-moon",ellipsis:"i-lucide-ellipsis",error:"i-lucide-circle-x",external:"i-lucide-arrow-up-right",eye:"i-lucide-eye",eyeOff:"i-lucide-eye-off",file:"i-lucide-file",folder:"i-lucide-folder",folderOpen:"i-lucide-folder-open",hash:"i-lucide-hash",info:"i-lucide-info",light:"i-lucide-sun",loading:"i-lucide-loader-circle",menu:"i-lucide-menu",minus:"i-lucide-minus",panelClose:"i-lucide-panel-left-close",panelOpen:"i-lucide-panel-left-open",plus:"i-lucide-plus",reload:"i-lucide-rotate-ccw",search:"i-lucide-search",stop:"i-lucide-square",success:"i-lucide-circle-check",system:"i-lucide-monitor",tip:"i-lucide-lightbulb",upload:"i-lucide-upload",warning:"i-lucide-triangle-alert"}},icon:{provider:"server",class:"",aliases:{},iconifyApiEndpoint:"https://api.iconify.design",localApiEndpoint:"/api/_nuxt_icon",fallbackToApi:!0,cssSelectorPrefix:"i-",cssWherePseudo:!0,cssLayer:"components",mode:"css",attrs:{"aria-hidden":!0},collections:["academicons","akar-icons","ant-design","arcticons","basil","bi","bitcoin-icons","bpmn","brandico","bx","bxl","bxs","bytesize","carbon","catppuccin","cbi","charm","ci","cib","cif","cil","circle-flags","circum","clarity","codicon","covid","cryptocurrency","cryptocurrency-color","dashicons","devicon","devicon-plain","ei","el","emojione","emojione-monotone","emojione-v1","entypo","entypo-social","eos-icons","ep","et","eva","f7","fa","fa-brands","fa-regular","fa-solid","fa6-brands","fa6-regular","fa6-solid","fad","fe","feather","file-icons","flag","flagpack","flat-color-icons","flat-ui","flowbite","fluent","fluent-emoji","fluent-emoji-flat","fluent-emoji-high-contrast","fluent-mdl2","fontelico","fontisto","formkit","foundation","fxemoji","gala","game-icons","geo","gg","gis","gravity-ui","gridicons","grommet-icons","guidance","healthicons","heroicons","heroicons-outline","heroicons-solid","hugeicons","humbleicons","ic","icomoon-free","icon-park","icon-park-outline","icon-park-solid","icon-park-twotone","iconamoon","iconoir","icons8","il","ion","iwwa","jam","la","lets-icons","line-md","logos","ls","lucide","lucide-lab","mage","majesticons","maki","map","marketeq","material-symbols","material-symbols-light","mdi","mdi-light","medical-icon","memory","meteocons","mi","mingcute","mono-icons","mynaui","nimbus","nonicons","noto","noto-v1","octicon","oi","ooui","openmoji","oui","pajamas","pepicons","pepicons-pencil","pepicons-pop","pepicons-print","ph","pixelarticons","prime","ps","quill","radix-icons","raphael","ri","rivet-icons","si-glyph","simple-icons","simple-line-icons","skill-icons","solar","streamline","streamline-emojis","subway","svg-spinners","system-uicons","tabler","tdesign","teenyicons","token","token-branded","topcoat","twemoji","typcn","uil","uim","uis","uit","uiw","unjs","vaadin","vs","vscode-icons","websymbol","weui","whh","wi","wpf","zmdi","zondicons"],fetchTimeout:1500}}),Ye=/\d/,Qe=["-","_","/","."];function isUppercase(e=""){if(!Ye.test(e))return e!==e.toLowerCase()}function kebabCase(e,t){return e?(Array.isArray(e)?e:function(e){const t=Qe,s=[];if(!e||"string"!=typeof e)return s;let a,c,l="";for(const u of e){const e=t.includes(u);if(!0===e){s.push(l),l="",a=void 0;continue}const d=isUppercase(u);if(!1===c){if(!1===a&&!0===d){s.push(l),l=u,a=d;continue}if(!0===a&&!1===d&&l.length>1){const e=l.at(-1);s.push(l.slice(0,Math.max(0,l.length-1))),l=e+u,a=d;continue}}l+=u,a=d,c=e}return s.push(l),s}(e)).map(e=>e.toLowerCase()).join(t):""}function getEnv(t,s){const a=(c=t,kebabCase(c||"","_")).toUpperCase();var c;return destr(e.env[s.prefix+a]??e.env[s.altPrefix+a])}function _isObject(e){return"object"==typeof e&&!Array.isArray(e)}function applyEnv(e,t,s=""){for(const a in e){const c=s?`${s}_${a}`:a,l=getEnv(c,t);_isObject(e[a])?_isObject(l)?(e[a]={...e[a],...l},applyEnv(e[a],t,c)):void 0===l?applyEnv(e[a],t,c):e[a]=l??e[a]:e[a]=l??e[a],t.envExpansion&&"string"==typeof e[a]&&(e[a]=_expandFromEnv(e[a]))}return e}const Xe=/\{\{([^{}]*)\}\}/g;function _expandFromEnv(t){return t.replace(Xe,(t,s)=>e.env[s]||t)}const Ve={app:{baseURL:"/",buildId:"d3bcf6a7-c771-41c9-a0a3-ff0f7294402e",buildAssetsDir:"/_nuxt/",cdnURL:""},nitro:{envPrefix:"NUXT_",routeRules:{"/__nuxt_error":{cache:!1},"/sitemap.xsl":{headers:{"Content-Type":"application/xslt+xml"}},"/sitemap.xml":{swr:600,cache:{swr:!0,maxAge:600,varies:["X-Forwarded-Host","X-Forwarded-Proto","Host"]}},"/_nuxt/builds/meta/**":{headers:{"cache-control":"public, max-age=31536000, immutable"}},"/_nuxt/builds/**":{headers:{"cache-control":"public, max-age=1, immutable"}},"/_fonts/**":{headers:{"cache-control":"public, max-age=31536000, immutable"}},"/_nuxt/**":{headers:{"cache-control":"public, max-age=31536000, immutable"}}}},public:{i18n:{baseUrl:"",defaultLocale:"en",rootRedirect:"",redirectStatusCode:302,skipSettingLocaleOnNavigate:!1,locales:[{code:"en",language:"en-US",name:"English",dir:"ltr"},{code:"he",language:"he-IL",name:"עברית",dir:"rtl"}],detectBrowserLanguage:{alwaysRedirect:!1,cookieCrossOrigin:!1,cookieDomain:"",cookieKey:"i18n_redirected",cookieSecure:!1,fallbackLocale:"",redirectOn:"root",useCookie:!0},experimental:{localeDetector:"",typedPages:!0,typedOptionsAndMessages:!1,alternateLinkCanonicalQueries:!0,devCache:!1,cacheLifetime:"",stripMessagesPayload:!1,preload:!1,strictSeo:!1,nitroContextDetection:!0},domainLocales:{en:{domain:""},he:{domain:""}}}},icon:{serverKnownCssClasses:[]},sitemap:{isI18nMapped:!1,sitemapName:"sitemap.xml",isMultiSitemap:!1,excludeAppSources:[],cacheMaxAgeSeconds:600,autoLastmod:!1,defaultSitemapsChunkSize:1e3,sortEntries:!0,debug:!1,discoverImages:!0,discoverVideos:!0,isNuxtContentDocumentDriven:!1,xsl:"/__sitemap__/style.xsl",xslTips:!0,xslColumns:[{label:"URL",width:"50%"},{label:"Images",width:"25%",select:"count(image:image)"},{label:"Last Updated",width:"25%",select:"concat(substring(sitemap:lastmod,0,11),concat(' ', substring(sitemap:lastmod,12,5)),concat(' ', substring(sitemap:lastmod,20,6)))"}],credits:!0,version:"5.3.5",sitemaps:{"sitemap.xml":{sitemapName:"sitemap.xml",route:"sitemap.xml",defaults:{},include:[],exclude:["/_nuxt/**","/_**"],includeAppSources:!0}}},"nuxt-site-config":{stack:[{_context:"system",_priority:-15,name:"nuxt-template",env:"production"},{_context:"package.json",_priority:-10,name:"nuxt-app"},{_context:"@nuxtjs/i18n",defaultLocale:"en"}],version:"2.2.21",debug:!1}},Je={prefix:"NITRO_",altPrefix:Ve.nitro.envPrefix??e.env.NITRO_ENV_PREFIX??"_",envExpansion:Ve.nitro.envExpansion??e.env.NITRO_ENV_EXPANSION??!1},Ge=_deepFreeze(applyEnv(klona(Ve),Je));function useRuntimeConfig(e){if(!e)return Ge;if(e.context.nitro.runtimeConfig)return e.context.nitro.runtimeConfig;const t=klona(Ve);return applyEnv(t,Je),e.context.nitro.runtimeConfig=t,t}const et=_deepFreeze(klona(Ze));function useAppConfig(e){if(!e)return et;if(e.context.nitro.appConfig)return e.context.nitro.appConfig;const t=klona(Ze);return e.context.nitro.appConfig=t,t}function _deepFreeze(e){const t=Object.getOwnPropertyNames(e);for(const s of t){const t=e[s];t&&"object"==typeof t&&_deepFreeze(t)}return Object.freeze(e)}new Proxy(Object.create(null),{get:(e,t)=>{console.warn("Please use `useRuntimeConfig()` instead of accessing config directly.");const s=useRuntimeConfig();if(t in s)return s[t]}});const tt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:{},nt="__unctx__",rt=tt[nt]||(tt[nt]=function(e={}){const t={};return{get:(s,a={})=>(t[s]||(t[s]=function(e={}){let t,s=!1;const checkConflict=e=>{if(t&&t!==e)throw new Error("Context conflict")};let a;if(e.asyncContext){const t=e.AsyncLocalStorage||globalThis.AsyncLocalStorage;t?a=new t:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const _getCurrentInstance=()=>{if(a){const e=a.getStore();if(void 0!==e)return e}return t};return{use:()=>{const e=_getCurrentInstance();if(void 0===e)throw new Error("Context is not available");return e},tryUse:()=>_getCurrentInstance(),set:(e,a)=>{a||checkConflict(e),t=e,s=!0},unset:()=>{t=void 0,s=!1},call:(e,c)=>{checkConflict(e),t=e;try{return a?a.run(e,c):c()}finally{s||(t=void 0)}},async callAsync(e,c){t=e;const onRestore=()=>{t=e},onLeave=()=>t===e?onRestore:void 0;st.add(onLeave);try{const l=a?a.run(e,c):c();return s||(t=void 0),await l}finally{st.delete(onLeave)}}}}({...e,...a})),t[s])}}()),getContext=(e,t={})=>rt.get(e,t),ot="__unctx_async_handlers__",st=tt[ot]||(tt[ot]=new Set);function executeAsync(e){const t=[];for(const e of st){const s=e();s&&t.push(s)}const restore=()=>{for(const e of t)e()};let s=e();return s&&"object"==typeof s&&"catch"in s&&(s=s.catch(e=>{throw restore(),e})),[s,restore]}getContext("nitro-app",{asyncContext:!1,AsyncLocalStorage:void 0});const at=toRouteMatcher(createRouter$1({routes:useRuntimeConfig().nitro.routeRules}));function getRouteRules(e){return e.context._nitro=e.context._nitro||{},e.context._nitro.routeRules||(e.context._nitro.routeRules=getRouteRulesForPath(withoutBase(e.path.split("?")[0],useRuntimeConfig().app.baseURL))),e.context._nitro.routeRules}function getRouteRulesForPath(e){return ee({},...at.matchAll(e).reverse())}function joinHeaders(e){return Array.isArray(e)?e.join(", "):String(e)}function normalizeCookieHeader(e=""){return splitCookiesString(joinHeaders(e))}function normalizeCookieHeaders(e){const t=new Headers;for(const[s,a]of e)if("set-cookie"===s)for(const e of normalizeCookieHeader(a))t.append("set-cookie",e);else t.set(s,joinHeaders(a));return t}function hasReqHeader(e,t,s){const a=getRequestHeader(e,t);return a&&"string"==typeof a&&a.toLowerCase().includes(s)}function defaultHandler(e,t,s){const a=e.unhandled||e.fatal,c=e.statusCode||500,l=e.statusMessage||"Server Error",u=getRequestURL(t,{xForwardedHost:!0,xForwardedProto:!0});if(404===c){const e="/";if(/^\/[^/]/.test(e)&&!u.pathname.startsWith(e)){return{status:302,statusText:"Found",headers:{location:`${e}${u.pathname.slice(1)}${u.search}`},body:"Redirecting..."}}}if(a&&!s?.silent){const s=[e.unhandled&&"[unhandled]",e.fatal&&"[fatal]"].filter(Boolean).join(" ");console.error(`[request error] ${s} [${t.method}] ${u}\n`,e)}const d={"content-type":"application/json","x-content-type-options":"nosniff","x-frame-options":"DENY","referrer-policy":"no-referrer","content-security-policy":"script-src 'none'; frame-ancestors 'none';"};setResponseStatus(t,c,l),404!==c&&getResponseHeader(t,"cache-control")||(d["cache-control"]="no-cache");return{status:c,statusText:l,headers:d,body:{error:!0,url:u.href,statusCode:c,statusMessage:l,message:a?"Server Error":e.message,data:a?void 0:e.data}}}const it=[async function(e,t,{defaultHandler:s}){if(t.handled||function(e){return!hasReqHeader(e,"accept","text/html")&&(hasReqHeader(e,"accept","application/json")||hasReqHeader(e,"user-agent","curl/")||hasReqHeader(e,"user-agent","httpie/")||hasReqHeader(e,"sec-fetch-mode","cors")||e.path.startsWith("/api/")||e.path.endsWith(".json"))}(t))return;const a=await s(e,t,{json:!0});if(404===(e.statusCode||500)&&302===a.status)return setResponseHeaders(t,a.headers),setResponseStatus(t,a.status,a.statusText),send(t,JSON.stringify(a.body,null,2));const c=a.body,l=new URL(c.url);c.url=withoutBase(l.pathname,useRuntimeConfig(t).app.baseURL)+l.search+l.hash,c.message||="Server Error",c.data||=e.data,c.statusMessage||=e.statusMessage,delete a.headers["content-type"],delete a.headers["content-security-policy"],setResponseHeaders(t,a.headers);const u=getRequestHeaders(t),d=t.path.startsWith("/__nuxt_error")||!!u["x-nuxt-error"]?null:await useNitroApp().localFetch(withQuery(joinURL(useRuntimeConfig(t).app.baseURL,"/__nuxt_error"),c),{headers:{...u,"x-nuxt-error":"true"},redirect:"manual"}).catch(()=>null);if(t.handled)return;if(!d){const{template:e}=await import("./chunks/_/error-500.mjs");return setResponseHeader(t,"Content-Type","text/html;charset=UTF-8"),send(t,e(c))}const h=await d.text();for(const[e,s]of d.headers.entries())"set-cookie"!==e?setResponseHeader(t,e,s):appendResponseHeader(t,e,s);return setResponseStatus(t,d.status&&200!==d.status?d.status:a.status,d.statusText||a.statusText),send(t,h)},function(e,t){const s=defaultHandler(e,t);return setResponseHeaders(t,s.headers),setResponseStatus(t,s.status,s.statusText),send(t,JSON.stringify(s.body,null,2))}];function defineRenderHandler(e){const t=useRuntimeConfig();return we(async s=>{const a=useNitroApp(),c={event:s,render:e,response:void 0};if(await a.hooks.callHook("render:before",c),!c.response){if(s.path===`${t.app.baseURL}favicon.ico`)return setResponseHeader(s,"Content-Type","image/x-icon"),send(s,"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");if(c.response=await c.render(s),!c.response){const e=getResponseStatus(s);return setResponseStatus(s,200===e?500:e),send(s,"No response returned from render handler: "+s.path)}}return await a.hooks.callHook("render:response",c.response,c),c.response.headers&&setResponseHeaders(s,c.response.headers),(c.response.statusCode||c.response.statusMessage)&&setResponseStatus(s,c.response.statusCode,c.response.statusMessage),c.response.body})}function baseURL(){return useRuntimeConfig().app.baseURL}function buildAssetsURL(...e){return joinRelativeURL(publicAssetsURL(),useRuntimeConfig().app.buildAssetsDir,...e)}function publicAssetsURL(...e){const t=useRuntimeConfig().app,s=t.cdnURL||t.baseURL;return e.length?joinRelativeURL(s,...e):s}function createSiteConfigStack(e){const t=e?.debug||!1,s=[];return{stack:s,push:function(e){if(!e||"object"!=typeof e||0===Object.keys(e).length)return;if(!e._context&&t){let t=new Error("tmp").stack?.split("\n")[2].split(" ")[5];t?.includes("/")&&(t="anonymous"),e._context=t}const a={};for(const t in e){const s=e[t];void 0!==s&&""!==s&&(a[t]=s)}Object.keys(a).filter(e=>!e.startsWith("_")).length>0&&s.push(a)},get:function(e){const t={};e?.debug&&(t._context={});for(const a in s.sort((e,t)=>(e._priority||0)-(t._priority||0)))for(const c in s[a]){const l=c,u=e?.resolveRefs?x(s[a][c]):s[a][c];c.startsWith("_")||void 0===u||(t[c]=u,e?.debug&&(t._context[l]=s[a]._context?.[l]||s[a]._context||"anonymous"))}return e?.skipNormalize?t:function(e){void 0!==e.indexable&&(e.indexable="false"!==String(e.indexable)),void 0===e.trailingSlash||e.trailingSlash||(e.trailingSlash="false"!==String(e.trailingSlash)),e.url&&!hasProtocol(e.url,{acceptRelative:!0,strict:!1})&&(e.url=withHttps(e.url));const t=Object.keys(e).sort((e,t)=>e.localeCompare(t)),s={};for(const a of t)s[a]=e[a];return s}(t)}}}function useNitroOrigin(t){e.env.NITRO_SSL_CERT,e.env.NITRO_SSL_KEY;let s=e.env.NITRO_HOST||e.env.HOST||!1,a=!1,c="https";return s=getRequestHost(t,{xForwardedHost:!0})||s,c=getRequestProtocol(t,{xForwardedProto:!0})||c,"string"==typeof s&&s.includes(":")&&(a=s.split(":").pop(),s=s.split(":")[0]),a=a?`:${a}`:"",withTrailingSlash(`${c}://${s}${a}`)}function useSiteConfig(e,t){e.context.siteConfig=e.context.siteConfig||createSiteConfigStack();const s=ee(t,useRuntimeConfig(e)["nuxt-site-config"],{debug:!1});return e.context.siteConfig.get(s)}function resolveSitePath(e,t){let s=e;if(hasProtocol(e,{strict:!1,acceptRelative:!0})){s=parseURL(e).pathname}const a=withLeadingSlash(t.base||"/");"/"!==a&&s.startsWith(a)&&(s=s.slice(a.length));let c=withoutTrailingSlash(t.absolute?t.siteUrl:"");"/"!==a&&c.endsWith(a)&&(c=c.slice(0,c.indexOf(a)));const l=t.withBase?withBase(a,c||"/"):c,u=withBase(s,l);return"/"!==s||t.withBase?fixSlashes(t.trailingSlash,u):withTrailingSlash(u)}function fixSlashes(e,t){const s=parseURL(t);if(function(e){const t=e.split("/").pop();return!!(t||e).match(/\.[0-9a-z]+$/i)?.[0]}(s.pathname))return t;const a=e?withTrailingSlash(s.pathname):withoutTrailingSlash(s.pathname);return`${s.protocol?`${s.protocol}//`:""}${s.host||""}${a}${s.search||""}${s.hash||""}`}function createSitePathResolver(e,t={}){const s=useSiteConfig(e),a=useNitroOrigin(e),c=useRuntimeConfig(e).app.baseURL||"/";return e=>resolveSitePath(e,{...t,siteUrl:!1!==t.canonical?s.url:a,trailingSlash:s.trailingSlash,base:c})}const ct="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$",lt=/[<>\b\f\n\r\t\0\u2028\u2029]/g,ut=/^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/,dt={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"},pt=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function devalue(e){const t=new Map;let s=0;function log(e){s<100&&(console.warn(e),s+=1)}!function walk(e){if("function"!=typeof e){if(t.has(e))t.set(e,t.get(e)+1);else if(t.set(e,1),!isPrimitive(e)){switch(getType(e)){case"Number":case"String":case"Boolean":case"Date":case"RegExp":return;case"Array":e.forEach(walk);break;case"Set":case"Map":Array.from(e).forEach(walk);break;default:const t=Object.getPrototypeOf(e);t!==Object.prototype&&null!==t&&Object.getOwnPropertyNames(t).sort().join("\0")!==pt?"function"!=typeof e.toJSON&&log(`Cannot stringify arbitrary non-POJOs ${e.constructor.name}`):Object.getOwnPropertySymbols(e).length>0?log(`Cannot stringify POJOs with symbolic keys ${Object.getOwnPropertySymbols(e).map(e=>e.toString())}`):Object.keys(e).forEach(t=>walk(e[t]))}}}else log(`Cannot stringify a function ${e.name}`)}(e);const a=new Map;function stringify(e){if(a.has(e))return a.get(e);if(isPrimitive(e))return stringifyPrimitive(e);const t=getType(e);switch(t){case"Number":case"String":case"Boolean":return`Object(${stringify(e.valueOf())})`;case"RegExp":return e.toString();case"Date":return`new Date(${e.getTime()})`;case"Array":const s=e.map((t,s)=>s in e?stringify(t):""),a=0===e.length||e.length-1 in e?"":",";return`[${s.join(",")}${a}]`;case"Set":case"Map":return`new ${t}([${Array.from(e).map(stringify).join(",")}])`;default:if(e.toJSON){let t=e.toJSON();if("String"===getType(t))try{t=JSON.parse(t)}catch(e){}return stringify(t)}return null===Object.getPrototypeOf(e)?0===Object.keys(e).length?"Object.create(null)":`Object.create(null,{${Object.keys(e).map(t=>`${safeKey(t)}:{writable:true,enumerable:true,value:${stringify(e[t])}}`).join(",")}})`:`{${Object.keys(e).map(t=>`${safeKey(t)}:${stringify(e[t])}`).join(",")}}`}}Array.from(t).filter(e=>e[1]>1).sort((e,t)=>t[1]-e[1]).forEach((e,t)=>{a.set(e[0],function(e){let t="";do{t=ct[e%54]+t,e=~~(e/54)-1}while(e>=0);return ut.test(t)?`${t}0`:t}(t))});const c=stringify(e);if(a.size){const e=[],t=[],s=[];return a.forEach((a,c)=>{if(e.push(a),isPrimitive(c))return void s.push(stringifyPrimitive(c));switch(getType(c)){case"Number":case"String":case"Boolean":s.push(`Object(${stringify(c.valueOf())})`);break;case"RegExp":s.push(c.toString());break;case"Date":s.push(`new Date(${c.getTime()})`);break;case"Array":s.push(`Array(${c.length})`),c.forEach((e,s)=>{t.push(`${a}[${s}]=${stringify(e)}`)});break;case"Set":s.push("new Set"),t.push(`${a}.${Array.from(c).map(e=>`add(${stringify(e)})`).join(".")}`);break;case"Map":s.push("new Map"),t.push(`${a}.${Array.from(c).map(([e,t])=>`set(${stringify(e)}, ${stringify(t)})`).join(".")}`);break;default:s.push(null===Object.getPrototypeOf(c)?"Object.create(null)":"{}"),Object.keys(c).forEach(e=>{t.push(`${a}${function(e){return/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?`.${e}`:`[${escapeUnsafeChars(JSON.stringify(e))}]`}(e)}=${stringify(c[e])}`)})}}),t.push(`return ${c}`),`(function(${e.join(",")}){${t.join(";")}}(${s.join(",")}))`}return c}function isPrimitive(e){return Object(e)!==e}function stringifyPrimitive(e){if("string"==typeof e)return function(e){let t='"';for(let s=0;s<e.length;s+=1){const a=e.charAt(s),c=a.charCodeAt(0);if('"'===a)t+='\\"';else if(a in dt)t+=dt[a];else if(c>=55296&&c<=57343){const l=e.charCodeAt(s+1);t+=c<=56319&&l>=56320&&l<=57343?a+e[++s]:`\\u${c.toString(16).toUpperCase()}`}else t+=a}return t+='"',t}(e);if(void 0===e)return"void 0";if(0===e&&1/e<0)return"-0";const t=String(e);return"number"==typeof e?t.replace(/^(-)?0\./,"$1."):t}function getType(e){return Object.prototype.toString.call(e).slice(8,-1)}function escapeUnsafeChar(e){return dt[e]||e}function escapeUnsafeChars(e){return e.replace(lt,escapeUnsafeChar)}function safeKey(e){return/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?e:escapeUnsafeChars(JSON.stringify(e))}const _56NG0VvaDOmO382ld4X9WBkD8UzxrhogKrVkYex8IjI=async t=>{t.hooks.hook("render:html",async(t,{event:s})=>{const a=getRouteRules(s),c=e.env.NUXT_COMPONENT_ISLANDS&&s.path.startsWith("/__nuxt_island");s.path;if(s.context.nuxt?.noSSR||!1===a.ssr&&!c||!1){const e=Object.fromEntries(Object.entries(useSiteConfig(s)).map(([e,t])=>[e,x(t)]));t.body.push(`<script>window.__NUXT_SITE_CONFIG__=${devalue(e)}<\/script>`)}})};function useI18nContext(e){if(null==e.context.nuxtI18n)throw new Error("Nuxt I18n server context has not been set up yet.");return e.context.nuxtI18n}new Headers({"x-nuxt-i18n":"internal"});const ht=Object.create,create=(e=null)=>ht(e),ft=Array.isArray,isFunction=e=>"function"==typeof e,isString=e=>"string"==typeof e,isObject=e=>null!==e&&"object"==typeof e,mt=Object.prototype.toString,isNotObjectOrIsArray=e=>!isObject(e)||ft(e);function deepCopy(e,t){if(isNotObjectOrIsArray(e)||isNotObjectOrIsArray(t))throw new Error("Invalid value");const s=[{src:e,des:t}];for(;s.length;){const{src:e,des:t}=s.pop();Object.keys(e).forEach(a=>{"__proto__"!==a&&(isObject(e[a])&&!isObject(t[a])&&(t[a]=Array.isArray(e[a])?[]:create()),isNotObjectOrIsArray(t[a])||isNotObjectOrIsArray(e[a])?t[a]=e[a]:s.push({src:e[a],des:t[a]}))})}}function compareBrowserLocale(e,t){return e.score===t.score?t.code.length-e.code.length:t.score-e.score}const gt=["en","he"],yt={en:[{key:"locale_en_46json_95ceabe2",load:()=>import("./chunks/_/en.mjs"),cache:!0}],he:[{key:"locale_he_46json_03de8399",load:()=>import("./chunks/_/he.mjs"),cache:!0}]},wt=[],bt=[{code:"en",language:"en-US",name:"English",dir:"ltr"},{code:"he",language:"he-IL",name:"עברית",dir:"rtl"}];function getFallbackLocaleCodes(e,t){if(!1===e)return[];if(ft(e))return e;let s=[];if(isString(e))return t.every(t=>t!==e)&&s.push(e),s;const a=[...t,"default"];for(const t of a)t in e!=0&&(s=[...s,...e[t].filter(Boolean)]);return s}function isLocaleCacheable(e){return null!=yt[e]&&yt[e].every(e=>!1!==e.cache)}function isLocaleWithFallbacksCacheable(e,t){return isLocaleCacheable(e)&&t.every(e=>isLocaleCacheable(e))}const isSupportedLocale=e=>gt.includes(e||""),vt={runWithContext:async e=>await e()},xt=createDefu((e,t,s)=>{if("messages"===t||"datetimeFormats"===t||"numberFormats"===t)return e[t]??=create(null),deepCopy(s,e[t]),!0});const isModule=e=>{return"[object Module]"===(t=e,mt.call(t));var t};async function getLocaleMessages(e,t){const s=vt;try{const a=await s.runWithContext(t.load).then(e=>(isModule(e),e.default));return isFunction(a)?await s.runWithContext(()=>a(e)):a}catch(t){throw new Error(`Failed loading locale (${e}): `+t.message)}}async function getLocaleMessagesMerged(e,t=[]){const s=vt,a={};for(const c of t)deepCopy(await s.runWithContext(async()=>await getLocaleMessages(e,c)),a);return a}const setupVueI18nOptions=async e=>{const t=await async function(e){const t=vt;let s={messages:create(null)};for(const a of e){const e=await a().then(e=>e.default),c=isFunction(e)?await t.runWithContext(()=>e()):e;s=xt(create(null),c,s)}return s.fallbackLocale??=!1,s}(wt);t.locale=e||t.locale||"en-US",t.defaultLocale=e,t.fallbackLocale??=!1,t.messages??={};for(const e of gt)t.messages[e]??={};return t},_t={meta:[{name:"viewport",content:"width=device-width, initial-scale=1"},{charset:"utf-8"},{name:"google-site-verification"}],link:[],style:[],script:[],noscript:[]},Rt="div",St={id:"__nuxt",class:"isolate"},kt="div",Ct={id:"teleports"},jt="div",At={id:"__nuxt-loader"},Et="nuxt-app";function useRuntimeI18n(e){return useRuntimeConfig().public.i18n}const $t=_(0),getLocaleFromRoutePath=e=>$t(e);function getLocaleFromRoute(e){const t=function(e){return String("object"!=typeof e?e:e?.name||e?.path||"")}(e);return"/"===t[0]?getLocaleFromRoutePath(t):t.split("___").at(1)??""}function matchDomainLocale(e,t,s){const a=e.filter(e=>{return((e="")=>e.replace(/https?:\/\//,""))(e.domain)===t||(s=e.domains,Array.isArray(s)?s:[s]).includes(t);var s});return a.length<=1?a[0]?.code:a.find(e=>e.code===s)?.code||a.find(e=>e.defaultForDomains?.includes(t)??e.domainDefault)?.code}const getHeaderLocale=e=>function(e,t){const s=function(e,t){const s=[];for(const[a,c]of t.entries()){const l=e.find(e=>e.language?.toLowerCase()===c.toLowerCase());if(l){s.push({code:l.code,score:1-a/t.length});break}}for(const[a,c]of t.entries()){const l=c.split("-")[0].toLowerCase(),u=e.find(e=>e.language?.split("-")[0].toLowerCase()===l);if(u){s.push({code:u.code,score:.999-a/t.length});break}}return s}(e.map(e=>({code:e.code,language:e.language||e.code})),t);return s.sort(compareBrowserLocale).at(0)?.code??""}(bt,R(getRequestHeader(e,"accept-language")||"")),useDetectors=(e,t,s)=>{if(!e)throw new Error("H3Event is required for server-side locale detection");const a=useRuntimeI18n();return{cookie:()=>((e,t)=>getCookie(e,t)||void 0)(e,t.cookieKey),header:()=>getHeaderLocale(e),navigator:()=>{},host:t=>((e,t,s)=>{const a=getRequestURL(e,{xForwardedHost:!0}).host,c=bt.map(e=>({...e,domain:s[e.code]?.domain??e.domain}));return matchDomainLocale(c,a,getLocaleFromRoutePath(t))})(e,t,a.domainLocales),route:e=>getLocaleFromRoute(e)}},Tt={},Ot={},Ht=S([],{});for(const e of Object.keys(Ot))Ht.addRoute({path:e,component:()=>"",meta:{}});function matchLocalized(e,t,s){if(""===e)return;const a=parsePath(e),c=Ht.resolve({path:a.pathname||"/"},{path:"/",name:"",matched:[],params:{},meta:{}});if(c.matched.length>0){const e=((e,t)=>{if(!e||!t)return;const s=Ot[e],a=Tt[s];return a&&a[t]?!0===a[t]?s:a[t]:void 0})(c.matched[0].path,t);return withLeadingSlash(joinURL("",Ht.resolve({params:c.params},{path:e||"/",name:"",matched:[],params:{},meta:{}}).path))}}const _kVqr9zQorxogScMPQNlx6oMk7DxOJr9HhPVRta7J8=async e=>{const t=useRuntimeI18n(),s=function(e){if(e)return{path:"/"+(isString(e)?e:e.path).replace(/^\//,""),code:!isString(e)&&e.statusCode||302}}(t.rootRedirect),a=t.defaultLocale||"";try{const e=useStorage("cache"),t=await e.getKeys("nitro:handlers:i18n");await Promise.all(t.map(t=>e.removeItem(t)))}catch{}const c=function(){const e=useRuntimeI18n().detectBrowserLanguage,t=e||{};return{...t,enabled:!!e,cookieKey:t.cookieKey||"i18n_redirected"}}(),l={path:"/",domain:c.cookieDomain||void 0,maxAge:31536e3,sameSite:"lax",secure:c.cookieSecure};const u=(!isFunction(t.baseUrl)&&t.baseUrl,isFunction(t.baseUrl)?()=>"":(e,t)=>"");async function initialize(e){const t=await setupVueI18nOptions((s=(e=>getRequestURL(e,{xForwardedHost:!0}).host)(e),bt.find(e=>!!e.defaultForDomains?.includes(s))?.code||a));var s;const c=function(e){const t={};for(const s of gt){const a=getFallbackLocaleCodes(e,[s]),c=isLocaleWithFallbacksCacheable(s,a);t[s]={fallbacks:a,cacheable:c}}return t}(t.fallbackLocale),l={messages:{},slp:{},localeConfigs:{},trackMap:{},vueI18nOptions:void 0,trackKey(e,t){this.trackMap[t]??=new Set,this.trackMap[t].add(e)}};return l.vueI18nOptions=t,l.localeConfigs=c,e.context.nuxtI18n=l,l}e.hooks.hook("request",async e=>{await initialize(e)}),e.hooks.hook("render:before",async({event:e})=>{const a=useI18nContext(e),d=getRequestURL(e),h=useDetectors(e,c),f=h.route(e.path),m=isSupportedLocale(f)&&f||void 0,g=m&&d.pathname.slice(m.length+1)||d.pathname;if(!d.pathname.includes("/_i18n/")&&!function(e){if(""===e)return;const t=Ht.resolve({path:e},{path:"/",name:"",matched:[],params:{},meta:{}});return t.matched.length>0?t:void 0}(g))return;const x=function(e,a,l,u,d){let h,f="";for(const t of function*(e,t){t.enabled&&(yield{locale:e.cookie(),source:"cookie"},yield{locale:e.header(),source:"header"}),yield{locale:t.fallbackLocale,source:"fallback"}}(d,c,e.path))if(t.locale&&isSupportedLocale(t.locale)){f=t.locale;break}f||=u;let m=302;const g=getRequestURL(e);switch(s&&"/"===g.pathname?(f=c.enabled&&f||u,h=isSupportedLocale(d.route(s.path))&&s.path||matchLocalized(s.path,f),m=s.code):t.redirectStatusCode&&(m=t.redirectStatusCode),c.redirectOn){case"root":if("/"!==g.pathname)break;case"no prefix":if(l)break;case"all":h??=function(t){const s=matchLocalized(a||"/",t);if(s&&s!==e.path)return s}(f)}return g.pathname,{path:h,code:m,locale:f}}(e,g,m,a.vueI18nOptions.defaultLocale,h);return x.path&&x.path!==d.pathname?(a.detectLocale=x.locale,c.useCookie&&setCookie(e,c.cookieKey,x.locale,l),void await sendRedirect(e,joinURL(u(e,a.vueI18nOptions.defaultLocale),x.path+d.search),x.code)):void 0}),e.hooks.hook("render:html",(e,{event:t})=>{!function(e){e.context.nuxtI18n}(t)})},Lt=[_56NG0VvaDOmO382ld4X9WBkD8UzxrhogKrVkYex8IjI,_kVqr9zQorxogScMPQNlx6oMk7DxOJr9HhPVRta7J8,function(e){e.hooks.hook("render:html",e=>{e.head.push('<script>"use strict";(()=>{const t=window,e=document.documentElement,c=["dark","light"],n=getStorageValue("localStorage","nuxt-color-mode")||"light";let i=n==="system"?u():n;const r=e.getAttribute("data-color-mode-forced");r&&(i=r),l(i),t["__NUXT_COLOR_MODE__"]={preference:n,value:i,getColorScheme:u,addColorScheme:l,removeColorScheme:d};function l(o){const s=""+o+"",a="";e.classList?e.classList.add(s):e.className+=" "+s,a&&e.setAttribute("data-"+a,o)}function d(o){const s=""+o+"",a="";e.classList?e.classList.remove(s):e.className=e.className.replace(new RegExp(s,"g"),""),a&&e.removeAttribute("data-"+a)}function f(o){return t.matchMedia("(prefers-color-scheme"+o+")")}function u(){if(t.matchMedia&&f("").media!=="not all"){for(const o of c)if(f(":"+o).matches)return o}return"light"}})();function getStorageValue(t,e){switch(t){case"localStorage":return window.localStorage.getItem(e);case"sessionStorage":return window.sessionStorage.getItem(e);case"cookie":return getCookie(e);default:return null}}function getCookie(t){const c=("; "+window.document.cookie).split("; "+t+"=");if(c.length===2)return c.pop()?.split(";").shift()}<\/script>')})}],Ut={"/favicon.ico":{type:"image/vnd.microsoft.icon",etag:'"24d0-MKnlJcgAYUFLXNnK2SCmOQZk658"',mtime:"2025-10-28T11:07:01.382Z",size:9424,path:"../../static/favicon.ico"},"/_fonts/2TxG45Q1l3B4CP26qgBxFKpUDZpjytYYSip4lQ_BhD0-9_F69BPQRVNhiSHV7uU_YIeCY6P2AzNyc75pFhpmxRo.woff":{type:"font/woff",etag:'"a590-KKpfw4dzaAY+Hzb1vSAoLniRiIc"',mtime:"2025-10-28T11:07:01.327Z",size:42384,path:"../../static/_fonts/2TxG45Q1l3B4CP26qgBxFKpUDZpjytYYSip4lQ_BhD0-9_F69BPQRVNhiSHV7uU_YIeCY6P2AzNyc75pFhpmxRo.woff"},"/_fonts/4eOzccExxs7mcOPEexayQxC6tq3i2K33kzOosGAd6qE-SsNZGztTPrC0pV9VPUYevGHew_Etu9P47aH0sD8_Pn8.woff":{type:"font/woff",etag:'"a4f8-6Q07EUEesRvZo0U6ZlL1lgU2w5c"',mtime:"2025-10-28T11:07:01.327Z",size:42232,path:"../../static/_fonts/4eOzccExxs7mcOPEexayQxC6tq3i2K33kzOosGAd6qE-SsNZGztTPrC0pV9VPUYevGHew_Etu9P47aH0sD8_Pn8.woff"},"/_fonts/MhIJBVPYoryghJ-2cwHnc4_FUBlOellXg8XY0nXqPbo-_Akb2rFUTYdO5K23hpyLTc7g97-mNadfX38H9b2cX5U.woff2":{type:"font/woff2",etag:'"4934-6C5NweYOhkVI4ewZrrtmX/J4LxI"',mtime:"2025-10-28T11:07:01.327Z",size:18740,path:"../../static/_fonts/MhIJBVPYoryghJ-2cwHnc4_FUBlOellXg8XY0nXqPbo-_Akb2rFUTYdO5K23hpyLTc7g97-mNadfX38H9b2cX5U.woff2"},"/_fonts/SdliUTh8EOx6g0LkQewgc_bTNzCdvRzVpqpKj9Dy7ek-qQHMcmhpYDDo8Wj4shaVVaGhXdUEJ8kR57I_qYfoxYw.woff2":{type:"font/woff2",etag:'"a114-2TIS1kmsc5wjf+iENppqPvH7uDY"',mtime:"2025-10-28T11:07:01.327Z",size:41236,path:"../../static/_fonts/SdliUTh8EOx6g0LkQewgc_bTNzCdvRzVpqpKj9Dy7ek-qQHMcmhpYDDo8Wj4shaVVaGhXdUEJ8kR57I_qYfoxYw.woff2"},"/_fonts/eX4295MuE3awgr7kXLtUNLSHc1rNi0OmPKsLftYVkkM-k6AdRBEqcpvCbRYPqGe6ctaNls_BHEGGckudqHz-IpM.woff":{type:"font/woff",etag:'"a400-Ya2IX5QaTwKYLjZE21i0qvpNsFM"',mtime:"2025-10-28T11:07:01.327Z",size:41984,path:"../../static/_fonts/eX4295MuE3awgr7kXLtUNLSHc1rNi0OmPKsLftYVkkM-k6AdRBEqcpvCbRYPqGe6ctaNls_BHEGGckudqHz-IpM.woff"},"/_fonts/pGaGH96ip_QIAjRvhichIa5CqXzMCAcwrNQTGwPQLIY-JMRvJW7WDzb4iSYBA9_60_LG9h_OFnLm7cNZndqakw4.woff2":{type:"font/woff2",etag:'"21cc-SI3G6LrGxVZvfIYM0NIsZ7+GoLE"',mtime:"2025-10-28T11:07:01.327Z",size:8652,path:"../../static/_fonts/pGaGH96ip_QIAjRvhichIa5CqXzMCAcwrNQTGwPQLIY-JMRvJW7WDzb4iSYBA9_60_LG9h_OFnLm7cNZndqakw4.woff2"},"/_fonts/rYskOtsJRUcF3YS7xtxDnEzD3EYZuSbqCD9gkh0TJ-A-ayvtCigt3viF_cuSSNgnrU1RmXIBZWdt7aqfG4e6EWs.woff":{type:"font/woff",etag:'"a4e4-idb+hSAcxE3Adboj0J1sgCFooOM"',mtime:"2025-10-28T11:07:01.327Z",size:42212,path:"../../static/_fonts/rYskOtsJRUcF3YS7xtxDnEzD3EYZuSbqCD9gkh0TJ-A-ayvtCigt3viF_cuSSNgnrU1RmXIBZWdt7aqfG4e6EWs.woff"},"/_nuxt/BEQkQYLX.js":{type:"text/javascript; charset=utf-8",etag:'"205e-2FmBBDSKsY6HOhwxFTqmpWQaDDM"',mtime:"2025-10-28T11:07:01.330Z",size:8286,path:"../../static/_nuxt/BEQkQYLX.js"},"/_nuxt/BWjyx0Ea.js":{type:"text/javascript; charset=utf-8",etag:'"eae-TFTBoK5hLFZN9JVFv7FrZbicrvI"',mtime:"2025-10-28T11:07:01.330Z",size:3758,path:"../../static/_nuxt/BWjyx0Ea.js"},"/_nuxt/BtKCiWdC.js":{type:"text/javascript; charset=utf-8",etag:'"cd-uBoAPkpDAX0B0RSZaB7xKrS6X6M"',mtime:"2025-10-28T11:07:01.330Z",size:205,path:"../../static/_nuxt/BtKCiWdC.js"},"/_nuxt/CZkNe3S6.js":{type:"text/javascript; charset=utf-8",etag:'"1c45-/Hh9GaKolhVqNWTa1+2zPqVIeUk"',mtime:"2025-10-28T11:07:01.331Z",size:7237,path:"../../static/_nuxt/CZkNe3S6.js"},"/_nuxt/DAqgGXKc.js":{type:"text/javascript; charset=utf-8",etag:'"68dce-GUqLOMCrkHnPqZYUBU4+Etn+bFM"',mtime:"2025-10-28T11:07:01.331Z",size:429518,path:"../../static/_nuxt/DAqgGXKc.js"},"/_nuxt/DNFyp_N-.js":{type:"text/javascript; charset=utf-8",etag:'"d90-DNqMj0ZEMjn25l2cGSfx/AmtzZY"',mtime:"2025-10-28T11:07:01.331Z",size:3472,path:"../../static/_nuxt/DNFyp_N-.js"},"/_nuxt/DTS6Q5dF.js":{type:"text/javascript; charset=utf-8",etag:'"1e24-Kmz6LW8DWAcJ4jzF+VMG64bm7WA"',mtime:"2025-10-28T11:07:01.331Z",size:7716,path:"../../static/_nuxt/DTS6Q5dF.js"},"/_nuxt/Ddyvc1_j.js":{type:"text/javascript; charset=utf-8",etag:'"27e-aqzSgGJEtNFfsMqWSz8/NYcn5T8"',mtime:"2025-10-28T11:07:01.331Z",size:638,path:"../../static/_nuxt/Ddyvc1_j.js"},"/_nuxt/Dtrtw0zj.js":{type:"text/javascript; charset=utf-8",etag:'"8ec-t/8yON9u9zlH31H2vzAFCzU+lvo"',mtime:"2025-10-28T11:07:01.331Z",size:2284,path:"../../static/_nuxt/Dtrtw0zj.js"},"/_nuxt/LVG_eY9u.js":{type:"text/javascript; charset=utf-8",etag:'"948-QG26pf/JC91P4klg7Q49eOHG5Bc"',mtime:"2025-10-28T11:07:01.331Z",size:2376,path:"../../static/_nuxt/LVG_eY9u.js"},"/_nuxt/Shenkar College of Engineering and Design.BWdEum9q.svg":{type:"image/svg+xml",etag:'"16af-KYeZTAZ8hVryNvtferuH/2dn/U0"',mtime:"2025-10-28T11:07:01.331Z",size:5807,path:"../../static/_nuxt/Shenkar College of Engineering and Design.BWdEum9q.svg"},"/_nuxt/cp3sTCi8.js":{type:"text/javascript; charset=utf-8",etag:'"35166-OQKOPg5wFfXEYwU9oRXmKZ/+NlI"',mtime:"2025-10-28T11:07:01.331Z",size:217446,path:"../../static/_nuxt/cp3sTCi8.js"},"/_nuxt/entry.clvd8gD0.css":{type:"text/css; charset=utf-8",etag:'"2ff35-M3oqmc/o+cGqJrSfsroLlxBi3V4"',mtime:"2025-10-28T11:07:01.331Z",size:196405,path:"../../static/_nuxt/entry.clvd8gD0.css"},"/_nuxt/error-404.2GhCpCfF.css":{type:"text/css; charset=utf-8",etag:'"97e-rj7LYDldeiZzQ/rAgQHuKm4R4CM"',mtime:"2025-10-28T11:07:01.331Z",size:2430,path:"../../static/_nuxt/error-404.2GhCpCfF.css"},"/_nuxt/error-500.DqdIhFrl.css":{type:"text/css; charset=utf-8",etag:'"773-5c6J9Uy3GU9ENVOfwDGwZL5dQKk"',mtime:"2025-10-28T11:07:01.331Z",size:1907,path:"../../static/_nuxt/error-500.DqdIhFrl.css"},"/_nuxt/mhJ-osCf.js":{type:"text/javascript; charset=utf-8",etag:'"63d-k+e6wp4VdGsQZ6xL3ecMKNGnomo"',mtime:"2025-10-28T11:07:01.331Z",size:1597,path:"../../static/_nuxt/mhJ-osCf.js"},"/_nuxt/oryan-profile-picture.DF6_AIz7.jpeg":{type:"image/jpeg",etag:'"129721-IrRqVh6hrdFGWoaItKOMOwH3BF0"',mtime:"2025-10-28T11:07:01.359Z",size:1218337,path:"../../static/_nuxt/oryan-profile-picture.DF6_AIz7.jpeg"},"/_nuxt/studio-floor-plan.BR1e3Y7v.pdf":{type:"application/pdf",etag:'"608f9d-PMBpqvlVhFGi782WczpJ0ySMJbQ"',mtime:"2025-10-28T11:07:01.373Z",size:6328221,path:"../../static/_nuxt/studio-floor-plan.BR1e3Y7v.pdf"},"/_nuxt/studio-floor-plan.D6g8k8HI.png":{type:"image/png",etag:'"21991e-GOjWK4htWqsP4p2H4w8ThkEXI4g"',mtime:"2025-10-28T11:07:01.362Z",size:2201886,path:"../../static/_nuxt/studio-floor-plan.D6g8k8HI.png"},"/_nuxt/studio-project-1.CCkK0UDu.png":{type:"image/png",etag:'"581932-jxB15CQBtcr7UAFI4WkG7Iqce3k"',mtime:"2025-10-28T11:07:01.371Z",size:5773618,path:"../../static/_nuxt/studio-project-1.CCkK0UDu.png"},"/_nuxt/studio-project-2.DuHYlSZg.png":{type:"image/png",etag:'"47eb74-wyDvz05psaVfCsNbUfGtODJBp5M"',mtime:"2025-10-28T11:07:01.372Z",size:4713332,path:"../../static/_nuxt/studio-project-2.DuHYlSZg.png"},"/_nuxt/studio-project-3.DpS5k2BX.png":{type:"image/png",etag:'"5578ab-n6nKM5Olghw5NpEg4rsCHHGvlkk"',mtime:"2025-10-28T11:07:01.376Z",size:5601451,path:"../../static/_nuxt/studio-project-3.DpS5k2BX.png"},"/_nuxt/studio-project-4.BjiYPTk7.png":{type:"image/png",etag:'"52cf25-9xrXooVwdovAYirOnEI81kEjKFY"',mtime:"2025-10-28T11:07:01.380Z",size:5426981,path:"../../static/_nuxt/studio-project-4.BjiYPTk7.png"},"/_nuxt/studio-project-5.ZYlVVSCp.png":{type:"image/png",etag:'"47039e-WneyDOcKj0eaDMMYO2mYJdYyc4Y"',mtime:"2025-10-28T11:07:01.379Z",size:4653982,path:"../../static/_nuxt/studio-project-5.ZYlVVSCp.png"},"/_nuxt/wrqBHFeW.js":{type:"text/javascript; charset=utf-8",etag:'"b27-wdlq5AEpSpfKVKeSlqdiD6+4u10"',mtime:"2025-10-28T11:07:01.374Z",size:2855,path:"../../static/_nuxt/wrqBHFeW.js"},"/_nuxt/builds/latest.json":{type:"application/json",etag:'"47-x4yPmgA/HpgRspX7lSWzQts9Bis"',mtime:"2025-10-28T11:07:01.325Z",size:71,path:"../../static/_nuxt/builds/latest.json"},"/_nuxt/builds/meta/d3bcf6a7-c771-41c9-a0a3-ff0f7294402e.json":{type:"application/json",etag:'"8b-jp+98OoIMgFzKrgekZe7M7K6RuA"',mtime:"2025-10-28T11:07:01.323Z",size:139,path:"../../static/_nuxt/builds/meta/d3bcf6a7-c771-41c9-a0a3-ff0f7294402e.json"}},It=/^[A-Za-z]:\//;function normalizeWindowsPath(e=""){return e?e.replace(/\\/g,"/").replace(It,e=>e.toUpperCase()):e}const Pt=/^[/\\](?![/\\])|^[/\\]{2}(?!\.)|^[A-Za-z]:[/\\]/,Nt=/^[A-Za-z]:$/;function cwd(){return void 0!==e&&"function"==typeof e.cwd?e.cwd().replace(/\\/g,"/"):"/"}const isAbsolute=function(e){return Pt.test(e)};function readAsset(e){const t=function(e){const t=normalizeWindowsPath(e).replace(/\/$/,"").split("/").slice(0,-1);return 1===t.length&&Nt.test(t[0])&&(t[0]+="/"),t.join("/")||(isAbsolute(e)?"/":".")}(k(globalThis._importMeta_.url));return u.readFile(function(...e){let t="",s=!1;for(let a=(e=e.map(e=>normalizeWindowsPath(e))).length-1;a>=-1&&!s;a--){const c=a>=0?e[a]:cwd();c&&0!==c.length&&(t=`${c}/${t}`,s=isAbsolute(c))}return t=function(e,t){let s="",a=0,c=-1,l=0,u=null;for(let d=0;d<=e.length;++d){if(d<e.length)u=e[d];else{if("/"===u)break;u="/"}if("/"===u){if(c===d-1||1===l);else if(2===l){if(s.length<2||2!==a||"."!==s[s.length-1]||"."!==s[s.length-2]){if(s.length>2){const e=s.lastIndexOf("/");-1===e?(s="",a=0):(s=s.slice(0,e),a=s.length-1-s.lastIndexOf("/")),c=d,l=0;continue}if(s.length>0){s="",a=0,c=d,l=0;continue}}t&&(s+=s.length>0?"/..":"..",a=2)}else s.length>0?s+=`/${e.slice(c+1,d)}`:s=e.slice(c+1,d),a=d-c-1;c=d,l=0}else"."===u&&-1!==l?++l:l=-1}return s}(t,!s),s&&!isAbsolute(t)?`/${t}`:t.length>0?t:"."}(t,Ut[e].path))}const Mt={"/_nuxt/builds/meta/":{maxAge:31536e3},"/_nuxt/builds/":{maxAge:1},"/_fonts/":{maxAge:31536e3},"/_nuxt/":{maxAge:31536e3}};function getAsset(e){return Ut[e]}const zt=new Set(["HEAD","GET"]),qt={gzip:".gz",br:".br"},Bt=we(e=>{if(e.method&&!zt.has(e.method))return;let t=decode$1(withLeadingSlash(withoutTrailingSlash(parseURL(e.path).pathname)).replace(B,"%252F"));let s;const a=[...String(getRequestHeader(e,"accept-encoding")||"").split(",").map(e=>qt[e.trim()]).filter(Boolean).sort(),""];a.length>1&&appendResponseHeader(e,"Vary","Accept-Encoding");for(const e of a)for(const a of[t+e,joinURL(t,"index.html"+e)]){const e=getAsset(a);if(e){s=e,t=a;break}}if(!s){if(function(e=""){if(Ut[e])return!0;for(const t in Mt)if(e.startsWith(t))return!0;return!1}(t))throw function(e,t){e.node.res.removeHeader(t)}(e,"Cache-Control"),createError$1({statusCode:404});return}if(getRequestHeader(e,"if-none-match")===s.etag)return setResponseStatus(e,304,"Not Modified"),"";const c=getRequestHeader(e,"if-modified-since"),l=new Date(s.mtime);return c&&s.mtime&&new Date(c)>=l?(setResponseStatus(e,304,"Not Modified"),""):(s.type&&!getResponseHeader(e,"Content-Type")&&setResponseHeader(e,"Content-Type",s.type),s.etag&&!getResponseHeader(e,"ETag")&&setResponseHeader(e,"ETag",s.etag),s.mtime&&!getResponseHeader(e,"Last-Modified")&&setResponseHeader(e,"Last-Modified",l.toUTCString()),s.encoding&&!getResponseHeader(e,"Content-Encoding")&&setResponseHeader(e,"Content-Encoding",s.encoding),s.size>0&&!getResponseHeader(e,"Content-Length")&&setResponseHeader(e,"Content-Length",s.size),readAsset(t))}),Ft=defineEventHandler(()=>{}),Dt={lucide:()=>import("./chunks/_/icons.mjs").then(e=>e.default)},Kt=defineCachedEventHandler(async e=>{const t=getRequestURL(e);if(!t)return createError$1({status:400,message:"Invalid icon request"});const s=useAppConfig().icon,a=e.context.params?.collection?.replace(/\.json$/,""),c=a?await(Dt[a]?.()):null,l=s.iconifyApiEndpoint||"https://api.iconify.design",u=t.searchParams.get("icons")?.split(",");if(c&&u?.length){const e=C(c,u);return j.debug(`[Icon] serving ${(u||[]).map(e=>"`"+a+":"+e+"`").join(",")} from bundled collection`),e}if(!0===s.fallbackToApi||"server-only"===s.fallbackToApi){const e=new URL("./"+function(e,t){const s=normalizeWindowsPath(e).split("/");let a="";for(let e=s.length-1;e>=0;e--){const t=s[e];if(t){a=t;break}}return t&&a.endsWith(t)?a.slice(0,-t.length):a}(t.pathname)+t.search,l);if(j.debug(`[Icon] fetching ${(u||[]).map(e=>"`"+a+":"+e+"`").join(",")} from iconify api`),e.host!==new URL(l).host)return createError$1({status:400,message:"Invalid icon request"});try{return await $fetch(e.href)}catch(e){return j.error(e),404===e.status?createError$1({status:404}):createError$1({status:500,message:"Failed to fetch fallback icon"})}}return createError$1({status:404})},{group:"nuxt",name:"icon",getKey(e){const t=e.context.params?.collection?.replace(/\.json$/,"")||"unknown",s=String(getQuery(e).icons||"");return`${t}_${s.split(",")[0]}_${s.length}_${a=s,digest(serialize$1(a))}`;var a},swr:!0,maxAge:604800}),Wt=defineEventHandler(async e=>{if(e.context.siteConfig)return;const t=useRuntimeConfig(e),s=t["nuxt-site-config"],a=useNitroApp(),c=createSiteConfigStack({debug:s.debug}),l=useAppConfig(e),u=useNitroOrigin(e);var d;e.context.siteConfigNitroOrigin=u,c.push({_context:"nitro:init",_priority:-4,url:u}),c.push({_context:"runtimeEnv",_priority:0,...t.site||{},...t.public.site||{},...(d=globalThis._importMeta_.env,Object.fromEntries(Object.entries(d).filter(([e])=>e.startsWith("NUXT_SITE_")||e.startsWith("NUXT_PUBLIC_SITE_")).map(([e,t])=>[e.replace(/^NUXT_(PUBLIC_)?SITE_/,"").split("_").map((e,t)=>0===t?e.toLowerCase():e[0].toUpperCase()+e.slice(1).toLowerCase()).join(""),t])))});(s.stack||[]).forEach(e=>c.push(e)),l.site&&c.push({_priority:-2,_context:"app:config",...l.site}),e.context._nitro.routeRules.site&&c.push({_context:"route-rules",...e.context._nitro.routeRules.site});const h={siteConfig:c,event:e};await a.hooks.callHook("site-config:init",h),e.context.siteConfig=h.siteConfig}),Zt=createDefu((e,t,s)=>(Array.isArray(e[t])&&Array.isArray(s)&&(e[t]=Array.from(new Set([...e[t],...s]))),e[t]));function mergeOnKey(e,t){const s={};return e.forEach(e=>{const a=e[t];s[a]=Zt(e,s[a]||{})}),Object.values(s)}function splitForLocales(e,t){const s=withLeadingSlash(e).split("/")[1];return t.includes(s)?[s,e.replace(`/${s}`,"")]:[null,e]}const Yt=/\/(.*?)\/([gimsuy]*)$/;function normalizeRuntimeFilters(e){return(e||[]).map(e=>{if(e instanceof RegExp||"string"==typeof e)return e;const t=e.regex.match(Yt);return!!t&&new RegExp(t[1],t[2])}).filter(Boolean)}function createPathFilter(e={}){const t=createFilter(e);return e=>{let s=e;try{s=parseURL(e).pathname}catch{return!1}return t(s)}}function createFilter(e={}){const t=e.include||[],s=e.exclude||[];return 0===t.length&&0===s.length?()=>!0:function(e){for(const a of[{rules:s,result:!1},{rules:t,result:!0}]){const t=a.rules.filter(e=>e instanceof RegExp);if(t.some(t=>t.test(e)))return a.result;const s=a.rules.filter(e=>"string"==typeof e);if(s.length>0){const t={};for(const c of s){if(c===e)return a.result;t[c]=!0}if(toRouteMatcher(createRouter$1({routes:t,strictTrailingSlash:!1})).matchAll(e).length>0)return Boolean(a.result)}}return 0===t.length}}function useSimpleSitemapRuntimeConfig(e){const t=JSON.parse(JSON.stringify(useRuntimeConfig(e).sitemap));for(const e in t.sitemaps){const s=t.sitemaps[e];s.include=normalizeRuntimeFilters(s.include),s.exclude=normalizeRuntimeFilters(s.exclude),t.sitemaps[e]=s}return Object.freeze(t)}const Qt=defineEventHandler(async e=>{const t=createSitePathResolver(e,{absolute:!1,withBase:!0}),{sitemapName:s,cacheMaxAgeSeconds:a,version:c,xslColumns:l,xslTips:u}=useSimpleSitemapRuntimeConfig();me(e,"Content-Type","application/xslt+xml"),me(e,"Cache-Control",a?`public, max-age=${a}, must-revalidate`:"no-cache, no-store");const{name:d,url:h}=useSiteConfig(e),f=ce(e,"Referer")||"/",m=f!==t("/sitemap.xml")&&parseURL(f).pathname.endsWith("-sitemap.xml"),g=parseURL(f).pathname.split("/").pop()?.split("-sitemap")[0]||s,x=`${d}${"sitemap.xml"!==g?` - ${"sitemap_index.xml"===g?"index":g}`:""}`.replace(/&/g,"&amp;"),_=getQuery$1(f).canonical,R=void 0!==_&&"false"!==_,S=['You are looking at a <a href="https://developer.mozilla.org/en-US/docs/Web/XSLT/Transforming_XML_with_XSLT/An_Overview" style="color: #398465" target="_blank">XML stylesheet</a>. Read the <a href="https://nuxtseo.com/sitemap/guides/customising-ui" style="color: #398465" target="_blank">docs</a> to learn how to customize it. View the page source to see the raw XML.',`URLs missing? Check Nuxt Devtools Sitemap tab (or the <a href="${withQuery("/__sitemap__/debug.json",{sitemap:g})}" style="color: #398465" target="_blank">debug endpoint</a>).`];if(R)S.push(`You are viewing the canonical sitemap. You can switch to using the request origin: <a href="${t(f)}" style="color: #398465; white-space: nowrap ">${t(f)}</a>`);else{const e=withQuery(f,{canonical:""});S.push(`Your canonical site URL is <strong>${h}</strong>.`),S.push(`You can preview your canonical sitemap by visiting <a href="${e}" style="color: #398465; white-space: nowrap;">${t(e)}?canonical</a>`)}let k=[...l];return k.length||(k=[{label:"URL",width:"50%"},{label:"Images",width:"25%",select:"count(image:image)"},{label:"Last Updated",width:"25%",select:"concat(substring(sitemap:lastmod,0,11),concat(' ', substring(sitemap:lastmod,12,5)),concat(' ', substring(sitemap:lastmod,20,6)))"}]),`<?xml version="1.0" encoding="UTF-8"?>\n<xsl:stylesheet version="2.0"\n                xmlns:html="http://www.w3.org/TR/REC-html40"\n                xmlns:image="http://www.google.com/schemas/sitemap-image/1.1"\n                xmlns:sitemap="http://www.sitemaps.org/schemas/sitemap/0.9"\n                xmlns:xhtml="http://www.w3.org/1999/xhtml"\n                xmlns:news="http://www.google.com/schemas/sitemap-news/0.9"\n                xmlns:xsl="http://www.w3.org/1999/XSL/Transform">\n  <xsl:output method="html" version="1.0" encoding="UTF-8" indent="yes"/>\n  <xsl:template match="/">\n    <html xmlns="http://www.w3.org/1999/xhtml">\n      <head>\n        <title>XML Sitemap</title>\n        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>\n        <style type="text/css">\n          body {\n            font-family: Inter, Helvetica, Arial, sans-serif;\n            font-size: 14px;\n            color: #333;\n          }\n\n          table {\n            border: none;\n            border-collapse: collapse;\n          }\n\n          .bg-yellow-200 {\n            background-color: #fef9c3;\n          }\n\n          .p-5 {\n            padding: 1.25rem;\n          }\n\n          .rounded {\n            border-radius: 4px;\n            }\n\n          .shadow {\n            box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);\n          }\n\n          #sitemap tr:nth-child(odd) td {\n            background-color: #f8f8f8 !important;\n          }\n\n          #sitemap tbody tr:hover td {\n            background-color: #fff;\n          }\n\n          #sitemap tbody tr:hover td, #sitemap tbody tr:hover td a {\n            color: #000;\n          }\n\n          .expl a {\n            color: #398465\n            font-weight: 600;\n          }\n\n          .expl a:visited {\n            color: #398465\n          }\n\n          a {\n            color: #000;\n            text-decoration: none;\n          }\n\n          a:visited {\n            color: #777;\n          }\n\n          a:hover {\n            text-decoration: underline;\n          }\n\n          td {\n            font-size: 12px;\n          }\n\n          .text-2xl {\n            font-size: 2rem;\n            font-weight: 600;\n            line-height: 1.25;\n          }\n\n          th {\n            text-align: left;\n            padding-right: 30px;\n            font-size: 12px;\n          }\n\n          thead th {\n            border-bottom: 1px solid #000;\n          }\n          .fixed { position: fixed; }\n          .right-2 { right: 2rem; }\n          .top-2 { top: 2rem; }\n          .w-30 { width: 30rem; }\n          p { margin: 0; }\n          li { padding-bottom: 0.5rem; line-height: 1.5; }\n          h1 { margin: 0; }\n          .mb-5 { margin-bottom: 1.25rem; }\n          .mb-3 { margin-bottom: 0.75rem; }\n        </style>\n      </head>\n      <body>\n        <div style="grid-template-columns: 1fr 1fr; display: grid; margin: 3rem;">\n            <div>\n             <div id="content">\n          <h1 class="text-2xl mb-3">XML Sitemap</h1>\n          <h2>${x}</h2>\n          ${m?`<p style="font-size: 12px; margin-bottom: 1rem;"><a href="${t("/sitemap_index.xml")}">${t("/sitemap_index.xml")}</a></p>`:""}\n          <xsl:if test="count(sitemap:sitemapindex/sitemap:sitemap) &gt; 0">\n            <p class="expl" style="margin-bottom: 1rem;">\n              This XML Sitemap Index file contains\n              <xsl:value-of select="count(sitemap:sitemapindex/sitemap:sitemap)"/> sitemaps.\n            </p>\n            <table id="sitemap" cellpadding="3">\n              <thead>\n                <tr>\n                  <th width="75%">Sitemap</th>\n                  <th width="25%">Last Modified</th>\n                </tr>\n              </thead>\n              <tbody>\n                <xsl:for-each select="sitemap:sitemapindex/sitemap:sitemap">\n                  <xsl:variable name="sitemapURL">\n                    <xsl:value-of select="sitemap:loc"/>\n                  </xsl:variable>\n                  <tr>\n                    <td>\n                      <a href="{$sitemapURL}">\n                        <xsl:value-of select="sitemap:loc"/>\n                      </a>\n                    </td>\n                    <td>\n                      <xsl:value-of\n                        select="concat(substring(sitemap:lastmod,0,11),concat(' ', substring(sitemap:lastmod,12,5)),concat(' ', substring(sitemap:lastmod,20,6)))"/>\n                    </td>\n                  </tr>\n                </xsl:for-each>\n              </tbody>\n            </table>\n          </xsl:if>\n          <xsl:if test="count(sitemap:sitemapindex/sitemap:sitemap) &lt; 1">\n            <p class="expl" style="margin-bottom: 1rem;">\n              This XML Sitemap contains\n              <xsl:value-of select="count(sitemap:urlset/sitemap:url)"/> URLs.\n            </p>\n            <table id="sitemap" cellpadding="3">\n              <thead>\n                <tr>\n                  ${k.map(e=>`<th width="${e.width}">${e.label}</th>`).join("\n")}\n                </tr>\n              </thead>\n              <tbody>\n                <xsl:variable name="lower" select="'abcdefghijklmnopqrstuvwxyz'"/>\n                <xsl:variable name="upper" select="'ABCDEFGHIJKLMNOPQRSTUVWXYZ'"/>\n                <xsl:for-each select="sitemap:urlset/sitemap:url">\n                  <tr>\n                    <td>\n                      <xsl:variable name="itemURL">\n                        <xsl:value-of select="sitemap:loc"/>\n                      </xsl:variable>\n                      <a href="{$itemURL}">\n                        <xsl:value-of select="sitemap:loc"/>\n                      </a>\n                    </td>\n                    ${k.filter(e=>"URL"!==e.label).map(e=>`<td>\n<xsl:value-of select="${e.select}"/>\n</td>`).join("\n")}\n                  </tr>\n                </xsl:for-each>\n              </tbody>\n            </table>\n          </xsl:if>\n        </div>\n        </div>\n                    \n        </div>\n      </body>\n    </html>\n  </xsl:template>\n</xsl:stylesheet>\n`});function resolve(e,t){return void 0===e?e:hasProtocol(e="string"==typeof e?e:e.toString(),{acceptRelative:!0,strict:!1})?t.fixSlashes(e):t.canonicalUrlResolver(e)}function normaliseSitemapUrls(e,t){const s=e.map(e=>"string"==typeof e?{loc:e}:e).map(e=>((e={...e}).url&&(e.loc=e.url,delete e.url),e.loc=fixSlashes(!1,e.loc),e)).filter(Boolean);return mergeOnKey(s.map(function(e){if(e.lastmod){const t=normaliseDate(e.lastmod);t?e.lastmod=t:delete e.lastmod}return e.lastmod||delete e.lastmod,e.loc=resolve(e.loc,t),e.alternatives&&(e.alternatives=mergeOnKey(e.alternatives.map(e=>{const s={...e};return"string"==typeof s.href?s.href=resolve(s.href,t):"object"==typeof s.href&&s.href&&(s.href=resolve(s.href.href,t)),s}),"hreflang")),e.images&&(e.images=mergeOnKey(e.images.map(e=>((e={...e}).loc=resolve(e.loc,t),e)),"loc")),e.videos&&(e.videos=e.videos.map(e=>((e={...e}).content_loc&&(e.content_loc=resolve(e.content_loc,t)),e))),e}).map(e=>({...e,_key:`${e._sitemap||""}${e.loc}`})),"_key")}const Xt=[/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,/^\d{4}-[01]\d-[0-3]\d$/,/^\d{4}-[01]\d$/,/^\d{4}$/];function normaliseDate(e){if("string"==typeof e){if(e.includes("T")){const t=e.split("T")[1];t.includes("+")||t.includes("-")||t.includes("Z")||(e+="Z")}if(!function(e){return Xt.some(t=>t.test(e))}(e))return!1;if((e=new Date(e)).setMilliseconds(0),Number.isNaN(e.getTime()))return!1}const z=e=>`0${e}`.slice(-2),t=`${e.getUTCFullYear()}-${z(e.getUTCMonth()+1)}-${z(e.getUTCDate())}`;return e.getUTCHours()>0||e.getUTCMinutes()>0||e.getUTCSeconds()>0?`${t}T${z(e.getUTCHours())}:${z(e.getUTCMinutes())}:${z(e.getUTCSeconds())}Z`:t}function globalSitemapSources(){return import("./chunks/virtual/global-sources.mjs").then(e=>e.sources)}async function resolveSitemapSources(e,t){return(await Promise.all(e.map(e=>"object"==typeof e&&"urls"in e?{timeTakenMs:0,...e,urls:e.urls}:e.fetch?async function(e,t){const s="string"==typeof e.context?{name:e.context}:e.context||{name:"fetch"};s.tips=s.tips||[];const a="string"==typeof e.fetch?e.fetch:e.fetch[0],c="string"==typeof e.fetch?{}:e.fetch[1],l=Date.now(),u=c.timeout||5e3,d=new AbortController,h=setTimeout(()=>d.abort(),u);let f=!1;try{const u=await globalThis.$fetch(a,{...c,responseType:"json",signal:d.signal,headers:ee(c?.headers,{Accept:"application/json"},t?{Host:getRequestHost(t,{xForwardedHost:!0})}:{}),onResponse({response:e}){"string"==typeof e._data&&e._data.startsWith("<!DOCTYPE html>")&&(f=!0)}}),h=Date.now()-l;return f?(s.tips.push("This is usually because the URL isn't correct or is throwing an error. Please check the URL"),{...e,context:s,urls:[],timeTakenMs:h,error:"Received HTML response instead of JSON"}):{...e,context:s,timeTakenMs:h,urls:u}}catch(t){const c=t;return c.message.includes("This operation was aborted")?s.tips.push("The request has taken too long. Make sure app sources respond within 5 seconds or adjust the timeout fetch option."):s.tips.push(`Response returned a status of ${c.response?.status||"unknown"}.`),console.error("[@nuxtjs/sitemap] Failed to fetch source.",{url:a,error:c}),{...e,context:s,urls:[],error:c.message}}finally{h&&clearTimeout(h)}}(e,t):{...e,error:"Invalid source"}))).flat()}function filterSitemapUrls(e,t){const s=createFilter({include:t.include,exclude:t.exclude});return e.filter(e=>{let a=e.loc;try{a=parseURL(e.loc).pathname}catch{return!1}return!!s(a)&&(!(t.isMultiSitemap&&e._sitemap&&t.sitemapName)||e._sitemap===t.sitemapName)})}function applyI18nEnhancements(e,t){const{autoI18n:s,include:a,exclude:c}=t,l=createPathFilter({include:a,exclude:c});return e.map(e=>{if(!e._i18nTransform)return e;delete e._i18nTransform;const a=parseURL(e.loc),c=withLeadingSlash(a.pathname+a.search+a.hash),u=splitForLocales(c,s.locales.map(e=>e.code));let d=c;return u[0]&&(d=u[1]||"/",u[0]),s.differentDomains?{_sitemap:t.sitemapName,...e,alternatives:[{...s.locales.find(e=>[e.code,e.iso].includes(s.defaultLocale)),code:"x-default"},...s.locales.filter(e=>!!e.domain)].map(e=>({hreflang:e.iso||e.code,href:joinURL(withHttps(e.domain),d)}))}:s.locales.map(a=>{let c=joinURL(`/${a.code}`,d);return(s.differentDomains||["prefix_and_default","prefix_except_default"].includes(s.strategy)&&a.code===s.defaultLocale)&&(c=d),{_sitemap:t.isI18nMapped?a.iso||a.code:void 0,...e,loc:c,alternatives:[{code:"x-default"},...s.locales].map(e=>{const t="x-default"===e.code?s.defaultLocale:e.code,a="x-default"===e.code||e.code===s.defaultLocale;let c="";"prefix"===s.strategy?c=joinURL("/",t,d):["prefix_and_default","prefix_except_default"].includes(s.strategy)&&(c=a?d:joinURL("/",t,d));const u=e.iso||e.code;return!!l(c)&&{hreflang:u,href:c}}).filter(Boolean)}})}).flat()}function sortSitemapUrls(e){return e.sort((e,t)=>{const s="string"==typeof e?e:e.loc,a="string"==typeof t?t:t.loc;return s.localeCompare(a,void 0,{numeric:!0})}).sort((e,t)=>{const s=("string"==typeof e?e:e.loc)||"",a=("string"==typeof t?t:t.loc)||"",c=s.split("/").length,l=a.split("/").length;return c>l?1:c<l?-1:0})}function handleObject(e,t){return[`        <${e}:${e}>`,...Object.entries(t).map(([t,s])=>{if("video"===e&&Array.isArray(s))return s.map(s=>{if("string"==typeof s)return["            ",`<${e}:${t}>`,escapeValueForXml(s),`</${e}:${t}>`].join("");const a=Object.entries(s).filter(([e])=>e!==t).map(([e,t])=>`${e}="${escapeValueForXml(t)}"`).join(" ");return[`            <${e}:${t} ${a}>`,s[t],`</${e}:${t}>`].join("")}).join("\n");if("object"==typeof s){if("video"===e){const a=Object.entries(s).filter(([e])=>e!==t).map(([e,t])=>`${e}="${escapeValueForXml(t)}"`).join(" ");return[`            <${e}:${t} ${a}>`,s[t],`</${e}:${t}>`].join("")}return[`            <${e}:${t}>`,...Object.entries(s).map(([t,s])=>`                <${e}:${t}>${escapeValueForXml(s)}</${e}:${t}>`),`            </${e}:${t}>`].join("\n")}return`            <${e}:${t}>${escapeValueForXml(s)}</${e}:${t}>`}),`        </${e}:${e}>`].join("\n")}function handleEntry(e,t){return Array.isArray(t[e])?(s=e,0!==(a=t[e]).length&&("alternatives"===(s=function(e){switch(e){case"images":return"image";case"videos":return"video";case"news":return"news";default:return e}}(s))?a.map(e=>[`        <xhtml:link rel="alternate" ${Object.entries(e).map(([e,t])=>`${e}="${escapeValueForXml(t)}"`).join(" ")} />`].join("\n")).join("\n"):a.map(e=>handleObject(s,e)).join("\n"))):"object"==typeof t[e]?handleObject(e,t[e]):`        <${e}>${escapeValueForXml(t[e])}</${e}>`;var s,a}function wrapSitemapXml(e,t,s){const a=!!s.xsl&&t.relativeBaseUrlResolver(s.xsl),c=s.credits;return e.unshift('<?xml version="1.0" encoding="UTF-8"?>'+(a?`<?xml-stylesheet type="text/xsl" href="${a}"?>`:"")),c&&e.push(`\x3c!-- XML Sitemap generated by @nuxtjs/sitemap v${s.version} at ${(new Date).toISOString()} --\x3e`),e.join("\n")}function escapeValueForXml(e){return!0===e||!1===e?e?"yes":"no":String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}async function buildSitemap(e,t,s){const{sitemaps:a,autoI18n:c,isI18nMapped:l,isMultiSitemap:u,sortEntries:d,defaultSitemapsChunkSize:h,version:f,xsl:m,credits:g}=s,x=void 0!==a.chunks&&!Number.isNaN(Number(e.sitemapName));function maybeSort(e){return d?sortSitemapUrls(e):e}if(c?.differentDomains){const s=c.locales.find(t=>[t.iso,t.code].includes(e.sitemapName))?.domain;if(s){const e=t.canonicalUrlResolver;t.canonicalUrlResolver=t=>resolveSitePath(t,{absolute:!0,withBase:!1,siteUrl:withHttps(s),trailingSlash:!e("/test/").endsWith("/"),base:"/"})}}const _=e.includeAppSources?await globalSitemapSources():[];var R;_.push(...await(R=e,R?._hasSourceChunk?import("./chunks/virtual/child-sources.mjs").then(e=>e.sources[R.sitemapName]||[]):Promise.resolve([])));let S=await resolveSitemapSources(_,t.event);c&&(S=function(e,{autoI18n:t,isI18nMapped:s,include:a,exclude:c}){const l=createPathFilter({include:a,exclude:c});return t&&s?e.map(e=>{const s=(e.urls||[]).map(e=>{const t="string"==typeof e?{loc:e}:e;return t.loc=t.loc||t.url,hasProtocol(t.loc,{acceptRelative:!0})||(t.loc=withLeadingSlash(t.loc)),t});return e.urls=s.map(e=>{if(e._sitemap||e._i18nTransform)return e;if(e.loc&&!hasProtocol(e.loc,{acceptRelative:!0})){const a=splitForLocales(e.loc,t.locales.map(e=>e.code)),c=a[0]||t.defaultLocale,u=a[1],d=t.locales.find(e=>e.code===c);if(d){if(!e.alternatives){const a=s.map(e=>{if(e._sitemap||e._i18nTransform)return!1;if(e?.loc){if(!l(e.loc))return!1;const[s,a]=splitForLocales(e.loc,t.locales.map(e=>e.code));if(u===a){const a=[];return s===t.defaultLocale&&a.push({href:e.loc,hreflang:"x-default"}),a.push({href:e.loc,hreflang:s||t.defaultLocale}),a}}return!1}).flat().filter(Boolean);a.length&&(e.alternatives=a)}return{_sitemap:d.iso||d.code,...e}}}return e}),e}):e}(S,{autoI18n:c,isI18nMapped:l,...e}));const k=normaliseSitemapUrls(S.map(e=>e.urls).flat(),t),C=function(){const{nitro:e,app:t}=useRuntimeConfig(),s=toRouteMatcher(createRouter$1({routes:Object.fromEntries(Object.entries(e?.routeRules||{}).map(([e,t])=>[withoutTrailingSlash(e),t]))}));return e=>ee({},...s.matchAll(withoutBase(withoutTrailingSlash(function(e){return e.split("?")[0]}(e)),t.baseURL)).reverse())}();let j=k.map(t=>ee(t,e.defaults)).map(e=>{const t=parseURL(e.loc).pathname;let s=C(t);if(c?.locales&&"no_prefix"!==c?.strategy){const e=splitForLocales(t,c.locales.map(e=>e.code)),a=e[1];a&&a!==t&&(s=ee(s,C(a)))}if(!1===s.sitemap)return!1;if(void 0!==s.index&&!s.index)return!1;const a=Object.entries(s.headers||{}).some(([e,t])=>"x-robots-tag"===e.toLowerCase()&&"noindex"===t.toLowerCase());return!s.redirect&&!a&&(s.sitemap?ee(e,s.sitemap):e)}).filter(Boolean);c?.locales&&(j=applyI18nEnhancements(j,{isI18nMapped:l,autoI18n:c,...e}));const E=function(t){if(x&&h){const s=Number(e.sitemapName);return t.slice(s*h,(s+1)*h)}return t}(maybeSort(filterSitemapUrls(j,{event:t.event,isMultiSitemap:u,...e}))),$=useNitroApp(),T={urls:E,sitemapName:e.sitemapName};await $.hooks.callHook("sitemap:resolved",T);const O=maybeSort(normaliseSitemapUrls(T.urls,t)).map(e=>["    <url>",Object.keys(e).filter(e=>!e.startsWith("_")).map(t=>handleEntry(t,e)).filter(Boolean).join("\n"),"    </url>"].join("\n"));return wrapSitemapXml(['<urlset xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:video="http://www.google.com/schemas/sitemap-video/1.1" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:image="http://www.google.com/schemas/sitemap-image/1.1" xmlns:news="http://www.google.com/schemas/sitemap-news/0.9" xsi:schemaLocation="http://www.sitemaps.org/schemas/sitemap/0.9 http://www.sitemaps.org/schemas/sitemap/0.9/sitemap.xsd http://www.google.com/schemas/sitemap-image/1.1 http://www.google.com/schemas/sitemap-image/1.1/sitemap-image.xsd" xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',O.join("\n"),"</urlset>"],t,{version:f,xsl:m,credits:g})}function useNitroUrlResolvers(e){const t=getQuery(e).canonical,s=void 0!==t&&"false"!==t,a=useSiteConfig(e);return{event:e,fixSlashes:e=>fixSlashes(a.trailingSlash,e),canonicalUrlResolver:createSitePathResolver(e,{canonical:s||!0,absolute:!0,withBase:!0}),relativeBaseUrlResolver:createSitePathResolver(e,{absolute:!1,withBase:!0})}}async function createSitemap(e,t,s){const{sitemapName:a}=t,c=useNitroApp();let l=await("index"===t.sitemapName?async function(e,t){const{sitemaps:s,autoLastmod:a,defaultSitemapsChunkSize:c,autoI18n:l,isI18nMapped:u,sortEntries:d,version:h,xsl:f,credits:m}=t;if(!s)throw new Error("Attempting to build a sitemap index without required `sitemaps` configuration.");const g=void 0!==s.chunks,x={};if(g){const t=s.chunks,a=normaliseSitemapUrls((await resolveSitemapSources(await globalSitemapSources())).map(e=>e.urls).flat(),e);let h=a.map(e=>ee(e,t.defaults));l?.locales&&(h=applyI18nEnhancements(h,{isI18nMapped:u,autoI18n:l,sitemapName:t.sitemapName}));(_=filterSitemapUrls(h,{...t,isMultiSitemap:!0}),d?sortSitemapUrls(_):_).forEach((e,t)=>{const s=Math.floor(t/c);x[s]=x[s]||{urls:[]},x[s].urls.push(e)})}else for(const e in s)"index"!==e&&(x[e]=x[e]||{urls:[]});var _;const R=[];for(const t in x){const s=x[t],c={sitemap:e.canonicalUrlResolver(`${t}-sitemap.xml`)};let l=s.urls.filter(e=>!!e?.lastmod).map(e=>"string"==typeof e.lastmod?new Date(e.lastmod):e.lastmod).sort((e,t)=>(t?.getTime()||0)-(e?.getTime()||0))?.[0];!l&&a&&(l=new Date),l&&(c.lastmod=normaliseDate(l)),R.push(c)}s.index&&R.push(...s.index.sitemaps.map(e=>"string"==typeof e?{sitemap:e}:e));const S={sitemaps:R},k=useNitroApp();await k.hooks.callHook("sitemap:index-resolved",S);const C=S.sitemaps.map(e=>["    <sitemap>",`        <loc>${escapeValueForXml(e.sitemap)}</loc>`,!!e.lastmod&&`        <lastmod>${escapeValueForXml(e.lastmod)}</lastmod>`,"    </sitemap>"].filter(Boolean).join("\n")).join("\n");return wrapSitemapXml(['<sitemapindex xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">',C,"</sitemapindex>"],e,{version:h,xsl:f,credits:m})}(useNitroUrlResolvers(e),s):buildSitemap(t,useNitroUrlResolvers(e),s));const u={sitemap:l,sitemapName:a};return await c.hooks.callHook("sitemap:output",u),l=u.sitemap,me(e,"Content-Type","text/xml; charset=UTF-8"),s.cacheMaxAgeSeconds?me(e,"Cache-Control",`public, max-age=${s.cacheMaxAgeSeconds}, must-revalidate`):me(e,"Cache-Control","no-cache, no-store"),e.context._isSitemap=!0,l}const Vt=defineEventHandler(async e=>{const t=useSimpleSitemapRuntimeConfig(),{sitemaps:s}=t;return"index"in s?sendRedirect(e,withBase("/sitemap_index.xml",useRuntimeConfig().app.baseURL),301):createSitemap(e,Object.values(s)[0],t)}),Jt=prefixStorage(useStorage(),"i18n");function cachedFunctionI18n(e,t){t={maxAge:1,...t};const s={};return async(...a)=>{const c=[t.name,t.getKey(...a)].join(":").replace(/:\/$/,":index"),l=t.maxAge??1,u=!t.shouldBypassCache(...a)&&l>=0,d=u&&await Jt.getItemRaw(c);if(!d||d.ttl<Date.now()){s[c]=Promise.resolve(e(...a));const t=await async function(e,t){s[e]||(s[e]=Promise.resolve(t()));try{return await s[e]}finally{delete s[e]}}(c,()=>e(...a));return u&&await Jt.setItemRaw(c,{ttl:Date.now()+1e3*l,value:t,mtime:Date.now()}),t}return d.value}}const Gt=cachedFunctionI18n(async e=>({[e]:await getLocaleMessagesMerged(e,yt[e])}),{name:"messages",maxAge:86400,getKey:e=>e,shouldBypassCache:e=>!isLocaleCacheable(e)}),en=cachedFunctionI18n(async(e,t)=>{const s={};try{if(t.length>0){const e=await Promise.all(t.map(Gt));for(const t of e)deepCopy(t,s)}return deepCopy(await Gt(e),s),s}catch(e){throw new Error("Failed to merge messages: "+e.message)}},{name:"merged-single",maxAge:86400,getKey:(e,t)=>`${e}-[${[...new Set(t)].sort().join("-")}]`,shouldBypassCache:(e,t)=>!isLocaleWithFallbacksCacheable(e,t)});cachedFunctionI18n(async e=>{const t={};try{const s=await Promise.all(e.map(Gt));for(const e of s)deepCopy(e,t);return t}catch(e){throw new Error("Failed to merge messages: "+e.message)}},{name:"merged-all",maxAge:86400,getKey:e=>e.join("-"),shouldBypassCache:e=>!e.every(e=>isLocaleCacheable(e))});const _lazy_vd5VM2=()=>import("./chunks/routes/renderer.mjs").then(function(e){return e.r}),tn=[{route:"",handler:Bt,lazy:!1,middleware:!0,method:void 0},{route:"/__nuxt_error",handler:_lazy_vd5VM2,lazy:!0,middleware:!1,method:void 0},{route:"/__nuxt_island/**",handler:Ft,lazy:!1,middleware:!1,method:void 0},{route:"/api/_nuxt_icon/:collection",handler:Kt,lazy:!1,middleware:!1,method:void 0},{route:"",handler:Wt,lazy:!1,middleware:!0,method:void 0},{route:"/__sitemap__/style.xsl",handler:Qt,lazy:!1,middleware:!1,method:void 0},{route:"/sitemap.xml",handler:Vt,lazy:!1,middleware:!1,method:void 0},{route:"/_i18n/:hash/:locale/messages.json",handler:defineCachedEventHandler(defineCachedFunction(defineEventHandler(async e=>{const t=getRouterParam(e,"locale");if(!t)throw createError$1({status:400,message:"Locale not specified."});const s=useI18nContext(e);if(s.localeConfigs&&t in s.localeConfigs==!1)throw createError$1({status:404,message:`Locale '${t}' not found.`});return deepCopy(await en(t,s.localeConfigs?.[t]?.fallbacks??[]),s.messages),s.messages}),{name:"i18n:messages-internal",maxAge:86400,getKey:e=>[getRouterParam(e,"locale")??"null",getRouterParam(e,"hash")??"null"].join("-"),shouldBypassCache(e){const t=getRouterParam(e,"locale");return null!=t&&!useI18nContext(e).localeConfigs?.[t]?.cacheable}}),{name:"i18n:messages",maxAge:10,swr:!1,getKey:e=>[getRouterParam(e,"locale")??"null",getRouterParam(e,"hash")??"null"].join("-")}),lazy:!1,middleware:!1,method:void 0},{route:"/**",handler:_lazy_vd5VM2,lazy:!0,middleware:!1,method:void 0}];const nn=function(){const e=useRuntimeConfig(),t=createHooks(),captureError=(e,s={})=>{const a=t.callHookParallel("error",e,s).catch(e=>{console.error("Error while capturing another error",e)});if(s.event&&isEvent(s.event)){const t=s.event.context.nitro?.errors;t&&t.push({error:e,context:s}),s.event.waitUntil&&s.event.waitUntil(a)}},s=createApp({debug:destr(!1),onError:(e,t)=>(captureError(e,{event:t,tags:["request"]}),async function(e,t){for(const s of it)try{if(await s(e,t,{defaultHandler:defaultHandler}),t.handled)return}catch(e){console.error(e)}}(e,t)),onRequest:async e=>{e.context.nitro=e.context.nitro||{errors:[]};const t=e.node.req?.__unenv__;t?._platform&&(e.context={_platform:t?._platform,...t._platform,...e.context}),!e.context.waitUntil&&t?.waitUntil&&(e.context.waitUntil=t.waitUntil),e.fetch=(t,s)=>fetchWithEvent(e,t,s,{fetch:localFetch}),e.$fetch=(t,s)=>fetchWithEvent(e,t,s,{fetch:l}),e.waitUntil=t=>{e.context.nitro._waitUntilPromises||(e.context.nitro._waitUntilPromises=[]),e.context.nitro._waitUntilPromises.push(t),e.context.waitUntil&&e.context.waitUntil(t)},e.captureError=(t,s)=>{captureError(t,{event:e,...s})},await nn.hooks.callHook("request",e).catch(t=>{captureError(t,{event:e,tags:["request"]})})},onBeforeResponse:async(e,t)=>{await nn.hooks.callHook("beforeResponse",e,t).catch(t=>{captureError(t,{event:e,tags:["request","response"]})})},onAfterResponse:async(e,t)=>{await nn.hooks.callHook("afterResponse",e,t).catch(t=>{captureError(t,{event:e,tags:["request","response"]})})}}),a=function(e={}){const t=createRouter$1({}),s={};let a;const c={},addRoute=(e,a,l)=>{let u=s[e];if(u||(s[e]=u={path:e,handlers:{}},t.insert(e,u)),Array.isArray(l))for(const t of l)addRoute(e,a,t);else u.handlers[l]=toEventHandler(a,0,e);return c};c.use=c.add=(e,t,s)=>addRoute(e,t,s||"all");for(const e of be)c[e]=(t,s)=>c.add(t,s,e);const matchHandler=(e="/",s="get")=>{const c=e.indexOf("?");-1!==c&&(e=e.slice(0,Math.max(0,c)));const l=t.lookup(e);if(!l||!l.handlers)return{error:createError$1({statusCode:404,name:"Not Found",statusMessage:`Cannot find any route matching ${e||"/"}.`})};let u=l.handlers[s]||l.handlers.all;if(!u){a||(a=toRouteMatcher(t));const c=a.matchAll(e).reverse();for(const e of c){if(e.handlers[s]){u=e.handlers[s],l.handlers[s]=l.handlers[s]||u;break}if(e.handlers.all){u=e.handlers.all,l.handlers.all=l.handlers.all||u;break}}}return u?{matched:l,handler:u}:{error:createError$1({statusCode:405,name:"Method Not Allowed",statusMessage:`Method ${s} is not allowed on this route.`})}},l=e.preemptive||e.preemtive;return c.handler=we(e=>{const t=matchHandler(e.path,e.method.toLowerCase());if("error"in t){if(l)throw t.error;return}e.context.matchedRoute=t.matched;const s=t.matched.params||{};return e.context.params=s,Promise.resolve(t.handler(e)).then(e=>void 0===e&&l?null:e)}),c.handler.__resolve__=async e=>{e=withLeadingSlash(e);const t=matchHandler(e);if("error"in t)return;let s={route:t.matched.path,handler:t.handler};if(t.handler.__resolve__){const a=await t.handler.__resolve__(e);if(!a)return;s={...s,...a}}return s},c}({preemptive:!0}),c=toNodeListener(s),localFetch=(e,t)=>e.toString().startsWith("/")?async function(e,t,s={}){try{const a=await b(e,{url:t,...s});return new Response(a.body,{status:a.status,statusText:a.statusText,headers:v(a.headers)})}catch(e){return new Response(e.toString(),{status:Number.parseInt(e.statusCode||e.code)||500,statusText:e.statusText})}}(c,e,t).then(e=>function(e){return e.headers.has("set-cookie")?new Response(e.body,{status:e.status,statusText:e.statusText,headers:normalizeCookieHeaders(e.headers)}):e}(e)):globalThis.fetch(e,t),l=createFetch({fetch:localFetch,Headers:Te,defaults:{baseURL:e.app.baseURL}});var u;globalThis.$fetch=l,s.use((u={localFetch:localFetch},we(e=>{const t=getRouteRules(e);if(t.headers&&fe(e,t.headers),t.redirect){let s=t.redirect.to;if(s.endsWith("/**")){let a=e.path;const c=t.redirect._redirectStripBase;c&&(a=withoutBase(a,c)),s=joinURL(s.slice(0,-3),a)}else e.path.includes("?")&&(s=withQuery(s,getQuery$1(e.path)));return sendRedirect(e,s,t.redirect.statusCode)}if(t.proxy){let s=t.proxy.to;if(s.endsWith("/**")){let a=e.path;const c=t.proxy._proxyStripBase;c&&(a=withoutBase(a,c)),s=joinURL(s.slice(0,-3),a)}else e.path.includes("?")&&(s=withQuery(s,getQuery$1(e.path)));return proxyRequest(e,s,{fetch:u.localFetch,...t.proxy})}})));for(const t of tn){let c=t.lazy?lazyEventHandler(t.handler):t.handler;if(t.middleware||!t.route){const a=(e.app.baseURL+(t.route||"/")).replace(/\/+/g,"/");s.use(a,c)}else{const e=getRouteRulesForPath(t.route.replace(/:\w+|\*\*/g,"_"));e.cache&&(c=We(c,{group:"nitro/routes",...e.cache})),a.use(t.route,c,t.method)}}return s.use(e.app.baseURL,a.handler),{hooks:t,h3App:s,router:a,localCall:e=>b(c,e),localFetch:localFetch,captureError:captureError}}();function useNitroApp(){return nn}!function(e){for(const t of Lt)try{t(e)}catch(t){throw e.captureError(t,{tags:["plugin"]}),t}}(nn);new s(toNodeListener(useNitroApp().h3App)).listen(3e3,e=>{e?console.error(e):console.log("Listening on http://localhost:3000 (AWS Amplify Hosting)")});export{He as $,isEqual as A,withQuery as B,withTrailingSlash as C,withoutTrailingSlash as D,isScriptProtocol as E,sanitizeStatusCode as F,getContext as G,baseURL as H,createHooks as I,executeAsync as J,parseURL as K,toRouteMatcher as L,createRouter$1 as M,getRequestURL as N,getCookie as O,getRequestHeader as P,createDefu as Q,parsePath as R,setCookie as S,deleteCookie as T,Rt as a,buildAssetsURL as b,St as c,jt as d,At as e,getResponseStatus as f,getResponseStatusText as g,Et as h,defineRenderHandler as i,kt as j,Ct as k,getQuery as l,createError$1 as m,_t as n,destr as o,publicAssetsURL as p,getRouteRules as q,useNitroApp as r,serialize$1 as s,parseQuery as t,useRuntimeConfig as u,klona as v,te as w,ee as x,hasProtocol as y,joinURL as z};
//# sourceMappingURL=index.mjs.map
